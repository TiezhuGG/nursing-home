{"version":3,"sources":["webpack:///C:/Users/window/Desktop/nursing-home/main.js","webpack:///C:/Users/window/Desktop/nursing-home/pages/collect-data/collect-data.vue?94d3","webpack:///C:/Users/window/Desktop/nursing-home/pages/collect-data/collect-data.vue?492f","webpack:///C:/Users/window/Desktop/nursing-home/pages/collect-data/collect-data.vue?8fde","webpack:///C:/Users/window/Desktop/nursing-home/pages/collect-data/collect-data.vue?84e0","webpack:///C:/Users/window/Desktop/nursing-home/pages/collect-data/collect-data.vue","webpack:///C:/Users/window/Desktop/nursing-home/pages/collect-data/collect-data.vue?b650","webpack:///C:/Users/window/Desktop/nursing-home/pages/collect-data/collect-data.vue?282f"],"names":["createPage","Page","data","navTitles","currentIndex","cWidth","cHeight","pixelRatio","patientList","patient","pid","connected","bp_devices","bp_connected","bp_chs","bp_discoveryStarted","bp_canWrite","bp_deviceId","bp_serviceId","bp_characteristicId","blood_pressure","high_blood_pressure","low_blood_pressure","pressure_pulse_rate","bo_devices","bo_chs","bo_discoveryStarted","bo_canWrite","bo_deviceId","bo_serviceId","bo_characteristicId","blood_oxygen","oxygen_pulse_rate","warn_blood_pressure_max","warn_blood_pressure_min","warn_blood_oxygen_max","warn_blood_oxygen_min","warn_blood_sugar_max","warn_blood_sugar_min","onLoad","options","patient_id","fetchPatientInfo","fetchPatientList","onUnload","console","log","bo_closeBluetoothAdapter","bp_closeBluetoothAdapter","watch","newVal","oldVal","methods","bindPickerChange","e","item","id","Number","detail","value","uni","request","url","success","res","blood_pressure_min","blood_oxygen_min","saveData","type","JSON","stringify","getTimestamp","header","method","showModal","title","content","showToast","icon","duration","switchTab","index","hideLoading","timestamp","Date","getTime","inArray","arr","key","val","i","length","ab2hex","buffer","hexArr","Array","prototype","map","call","Uint8Array","bit","toString","slice","join","bp_openBluetoothAdapter","openBluetoothAdapter","bp_startBluetoothDevicesDiscovery","fail","errCode","onBluetoothAdapterStateChange","available","startBluetoothDevicesDiscovery","allowDuplicatesKey","bp_onBluetoothDeviceFound","bp_getBluetoothAdapterState","getBluetoothAdapterState","discovering","showLoading","onBluetoothDeviceFound","bp_getBluetoothDevices","that","getBluetoothDevices","devices","name","localName","bp_createBLEConnection","bp_stopBluetoothDevicesDiscovery","stopBluetoothDevicesDiscovery","deviceId","createBLEConnection","bp_getBLEDeviceServices","getBLEDeviceServices","services","uuid","bp_getBLEDeviceCharacteristics","serviceId","getBLEDeviceCharacteristics","characteristics","bp_writeBLECharacteristicValue","notifyBLECharacteristicValueChange","characteristicId","state","error","onBLECharacteristicValueChange","characteristic","vale","substr","parseInt","closeBluetoothAdapter","sz","ArrayBuffer","dataView","DataView","setUint8","writeBLECharacteristicValue","bo_openBluetoothAdapter","bo_startBluetoothDevicesDiscovery","bo_onBluetoothDeviceFound","titile","bo_getBluetoothDevices","bo_createBLEConnection","bo_getBLEDeviceServices","bo_stopBluetoothDevicesDiscovery","bo_getBLEDeviceCharacteristics","bo_writeBLECharacteristicValue"],"mappings":"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","file":"pages/collect-data/collect-data.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'\nimport Page from './pages/collect-data/collect-data.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./collect-data.vue?vue&type=template&id=2786e414&\"\nvar renderjs\nimport script from \"./collect-data.vue?vue&type=script&lang=js&\"\nexport * from \"./collect-data.vue?vue&type=script&lang=js&\"\nimport style0 from \"./collect-data.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"Users/window/Desktop/nursing-home/pages/collect-data/collect-data.vue\"\nexport default component.exports","export * from \"-!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./collect-data.vue?vue&type=template&id=2786e414&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./collect-data.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./collect-data.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport uCharts from '@/components/u-charts/u-charts.js';\n\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\tnavTitles: ['血压', '血氧', '血糖'],\n\t\t\tcurrentIndex: 0,\n\t\t\tcWidth: '',\n\t\t\tcHeight: '',\n\t\t\tpixelRatio: 1,\n\t\t\tpatientList: [],\n\t\t\tpatient: null,\n\t\t\tpid: '', // 当前患者id\n\t\t\tconnected: 0, // 0: 未连接, 1: 已连接, 2: 重新连接\n\t\t\t// 血压参数\n\t\t\tbp_devices: [],\n\t\t\tbp_connected: false,\n\t\t\tbp_chs: [],\n\t\t\tbp_discoveryStarted: false,\n\t\t\tbp_canWrite: false,\n\t\t\tbp_deviceId: '',\n\t\t\tbp_serviceId: '',\n\t\t\tbp_characteristicId: '',\n\t\t\tblood_pressure: null,\n\t\t\thigh_blood_pressure: 0, // 高压\n\t\t\tlow_blood_pressure: 0, // 低压\n\t\t\tpressure_pulse_rate: 0, // 血压平均心率\n\t\t\t// 血氧参数\n\t\t\tbo_devices: [],\n\t\t\tbo_chs: [],\n\t\t\tbo_discoveryStarted: false,\n\t\t\tbo_canWrite: false,\n\t\t\tbo_deviceId: '',\n\t\t\tbo_serviceId: '',\n\t\t\tbo_characteristicId: '',\n\t\t\tblood_oxygen: 0, // 血压、血氧、血糖值\n\t\t\toxygen_pulse_rate: 0, // 血氧平均心率\n\t\t\t// 血压 血氧 血糖报警临界值\n\t\t\twarn_blood_pressure_max: null,\n\t\t\twarn_blood_pressure_min: null,\n\t\t\twarn_blood_oxygen_max: null,\n\t\t\twarn_blood_oxygen_min: null,\n\t\t\twarn_blood_sugar_max: null,\n\t\t\twarn_blood_sugar_min: null,\n\t\t};\n\t},\n\tonLoad(options) {\n\t\t// console.log('options',options)\n\t\t// 从客户管理界面进来会传入patient_id\n\t\tif (options.patient_id) {\n\t\t\tthis.pid = options.patient_id\n\t\t\tthis.fetchPatientInfo(options.patient_id)\n\t\t}\n\t\tthis.fetchPatientList()\n\t},\n\n\tonUnload() {\n\t\tconsole.log('bb')\n\t\tthis.bo_closeBluetoothAdapter()\n\t\tthis.bp_closeBluetoothAdapter()\n\t\tthis.connected = 0\n\t},\n\n\twatch: {\n\t\tpatient(newVal, oldVal) {\n\t\t\t// 每次切换病人时关闭蓝牙模块, 之后再重新连接蓝牙进行采集数据\n\t\t\tif (oldVal != null) {\n\t\t\t\tconsole.log('cc')\n\t\t\t\tthis.bo_closeBluetoothAdapter()\n\t\t\t\tthis.bp_closeBluetoothAdapter()\n\t\t\t\t// 让按钮显示'连接蓝牙'\n\t\t\t\tthis.connected = 0\n\t\t\t}\n\t\t\t// console.log(`newVal ${JSON.stringify(newVal)}, oldVal ${oldVal}`)\n\t\t}\n\t},\n\n\tmethods: {\n\t\t// 选择患者\n\t\tbindPickerChange(e) {\n\t\t\tthis.connected = 0\n\t\t\t// console.log(e)\n\t\t\tfor (let item of this.patientList) {\n\t\t\t\tif (item.id === Number(e.detail.value) + 1) {\n\t\t\t\t\tthis.pid = item.id\n\t\t\t\t\tthis.fetchPatientInfo(item.id)\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t// 获取患者列表(ID)\n\t\tasync fetchPatientList() {\n\t\t\tawait uni.request({\n\t\t\t\turl: 'https://ciai.le-cx.com/index.php/api/patient/patientList',\n\t\t\t\tsuccess: res => {\n\t\t\t\t\tthis.patientList = res.data.data\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\t// 获取患者信息\n\t\tasync fetchPatientInfo(id) {\n\t\t\tawait uni.request({\n\t\t\t\turl: `https://ciai.le-cx.com/index.php/api/patient/info?id=${id}`,\n\t\t\t\tsuccess: res => {\n\t\t\t\t\tthis.patient = res.data.data\n\t\t\t\t\tthis.warn_blood_pressure_max = res.data.data.blood_pressure\n\t\t\t\t\tthis.warn_blood_pressure_min = res.data.data.blood_pressure_min\n\t\t\t\t\tthis.warn_blood_oxygen_max = res.data.data.blood_oxygen\n\t\t\t\t\tthis.warn_blood_oxygen_min = res.data.data.blood_oxygen_min\n\t\t\t\t},\n\t\t\t})\n\t\t},\n\n\t\t// 血状态信息存储\n\t\tasync saveData(type) {\n\t\t\tconsole.log('采集数据，connected', this.connected)\n\t\t\tif (this.connected !== 2 && (this.blood_oxygen !== 0 || this.high_blood_pressure !== 0)) {\n\t\t\t\t// 采集数据后断开蓝牙连接（让connected === 2,只能存储一次数据）\n\t\t\t\tthis.bo_closeBluetoothAdapter()\n\t\t\t\t// 通过判断type的值存储血压、血氧或血糖的数据\n\t\t\t\tif (type === 1) {\n\t\t\t\t\tawait uni.request({\n\t\t\t\t\t\turl: 'https://ciai.le-cx.com/index.php/api/alarm/putHealthRow',\n\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\t'type': type,\n\t\t\t\t\t\t\t'value': JSON.stringify(this.blood_pressure),\n\t\t\t\t\t\t\t'patient_id': this.pid,\n\t\t\t\t\t\t\t'pulse_rate': this.pressure_pulse_rate,\n\t\t\t\t\t\t\t'timestamp': this.getTimestamp()\n\t\t\t\t\t\t},\n\t\t\t\t\t\theader: {\n\t\t\t\t\t\t\t'content-type': 'application/x-www-form-urlencoded',\n\t\t\t\t\t\t},\n\t\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\t\tsuccess(res) {\n\t\t\t\t\t\t\tif (this.blood_pressure.high_blood_pressure > this.warn_blood_oxygen_max) {\n\t\t\t\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\t\t\t\ttitle: '警告',\n\t\t\t\t\t\t\t\t\tcontent: '该老人血压值过高，请注意！',\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t} else if (this.blood_pressure.low_blood_pressure > this.warn_blood_oxygen_min) {\n\t\t\t\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\t\t\t\ttitle: '警告',\n\t\t\t\t\t\t\t\t\tcontent: '该老人血压值过低，请注意！',\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t} else(\n\t\t\t\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\t\t\t\ttitle: '提示',\n\t\t\t\t\t\t\t\t\tcontent: '数据采集成功，该老人血压正常！'\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\tconsole.log('血压数据存储成功', res)\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t} else if (type === 2) {\n\t\t\t\t\tawait uni.request({\n\t\t\t\t\t\turl: 'https://ciai.le-cx.com/index.php/api/alarm/putHealthRow',\n\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\t'type': type,\n\t\t\t\t\t\t\t'value': this.blood_oxygen,\n\t\t\t\t\t\t\t'patient_id': this.pid,\n\t\t\t\t\t\t\t'pulse_rate': this.oxygen_pulse_rate,\n\t\t\t\t\t\t\t'timestamp': this.getTimestamp()\n\t\t\t\t\t\t},\n\t\t\t\t\t\theader: {\n\t\t\t\t\t\t\t'content-type': 'application/x-www-form-urlencoded',\n\t\t\t\t\t\t},\n\t\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\t\tsuccess(res) {\n\t\t\t\t\t\t\tif(this.blood_oxygen > this.warn_blood_oxygen_max) {\n\t\t\t\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\t\t\t\ttitle: '警告',\n\t\t\t\t\t\t\t\t\tcontent: '该老人血氧值过高，请注意'\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t} else if(this.blood_oxygen < this.warn_blood_oxygen_min) {\n\t\t\t\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\t\t\t\ttitle: '警告',\n\t\t\t\t\t\t\t\t\tcontent: '该老人血氧值过低，请注意'\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\t\t\t\ttitle: '提示',\n\t\t\t\t\t\t\t\t\tcontent: '数据采集成功，该老人血氧正常！'\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tconsole.log('血氧数据存储成功', res)\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (type === 1) {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: `请先连接血压计蓝牙`,\n\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\tduration: 3000\n\t\t\t\t\t})\n\t\t\t\t} else if (type === 2) {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: `请先连接血氧仪蓝牙`,\n\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\tduration: 3000\n\t\t\t\t\t})\n\t\t\t\t} else {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: `请先连接血糖仪蓝牙`,\n\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\tduration: 3000\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t// 切换导航tab\n\t\tswitchTab(index) {\n\t\t\tthis.currentIndex = index\n\t\t\t// this.connected = 0\n\t\t\tuni.hideLoading()\n\t\t},\n\n\t\t// 获取当前时间戳\n\t\tgetTimestamp() {\n\t\t\tlet timestamp = new Date().getTime()\n\t\t\treturn timestamp\n\t\t},\n\n\t\tinArray(arr, key, val) {\n\t\t\tfor (let i = 0; i < arr.length; i++) {\n\t\t\t\tif (arr[i][key] === val) {\n\t\t\t\t\treturn i;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn -1;\n\t\t},\n\n\t\t// ArrayBuffer转16进度字符串示例\n\t\tab2hex(buffer) {\n\t\t\tvar hexArr = Array.prototype.map.call(\n\t\t\t\tnew Uint8Array(buffer),\n\t\t\t\tfunction(bit) {\n\t\t\t\t\treturn ('00' + bit.toString(16)).slice(-2)\n\t\t\t\t}\n\t\t\t)\n\t\t\treturn hexArr.join('');\n\t\t},\n\n\t\t// 血压计\n\t\tbp_openBluetoothAdapter() {\n\t\t\tthis.bp_discoveryStarted = false\n\t\t\tconsole.log('初始化血压计蓝牙')\n\t\t\tuni.openBluetoothAdapter({\n\t\t\t\tsuccess: (res) => {\n\t\t\t\t\tconsole.log('openBluetoothAdapter success', res)\n\t\t\t\t\tthis.bp_startBluetoothDevicesDiscovery()\n\t\t\t\t},\n\t\t\t\tfail: (res) => {\n\t\t\t\t\tif (res.errCode === 10001) {\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: '用户蓝牙未开启或者手机不支持蓝牙功能',\n\t\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\t\tduration: 3000\n\t\t\t\t\t\t})\n\t\t\t\t\t\tuni.onBluetoothAdapterStateChange((res) => {\n\t\t\t\t\t\t\tconsole.log('onBluetoothAdapterStateChange', res)\n\t\t\t\t\t\t\tif (res.available) {\n\t\t\t\t\t\t\t\tthis.bp_startBluetoothDevicesDiscovery()\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\tbp_startBluetoothDevicesDiscovery() {\n\t\t\tif (this.bp_discoveryStarted) {\n\t\t\t\treturn\n\t\t\t}\n\t\t\tthis.bp_discoveryStarted = true\n\t\t\tuni.startBluetoothDevicesDiscovery({\n\t\t\t\tallowDuplicatesKey: true,\n\t\t\t\tsuccess: (res) => {\n\t\t\t\t\tconsole.log('startBluetoothDevicesDiscovery success', res)\n\t\t\t\t\tthis.bp_onBluetoothDeviceFound()\n\t\t\t\t},\n\t\t\t})\n\t\t},\n\t\tbp_getBluetoothAdapterState() {\n\t\t\tconsole.log('getBluetoothAdapterState')\n\t\t\tuni.getBluetoothAdapterState({\n\t\t\t\tsuccess: (res) => {\n\t\t\t\t\tconsole.log('getBluetoothAdapterState', res)\n\t\t\t\t\tif (res.discovering) {\n\t\t\t\t\t\tthis.bp_onBluetoothDeviceFound()\n\t\t\t\t\t} else if (res.available) {\n\t\t\t\t\t\tthis.bp_startBluetoothDevicesDiscovery()\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\tbp_onBluetoothDeviceFound() {\n\t\t\tuni.showLoading({\n\t\t\t\ttitle: '正在连接蓝牙...'\n\t\t\t})\n\t\t\tconsole.log('开始查找蓝牙设备')\n\t\t\tuni.onBluetoothDeviceFound((res) => {\n\t\t\t\tthis.bp_getBluetoothDevices()\n\t\t\t\t// var bp_devices = res.devices\n\t\t\t\t// console.log('devices', bp_devices[0].name)\n\t\t\t\t// if (bp_devices[0].name == 'FSRKB_BT-001') {\n\t\t\t\t// \tuni.hideLoading()\n\t\t\t\t// \tlet e = bp_devices[0]\n\t\t\t\t// \tthis.bp_createBLEConnection(e)\n\t\t\t\t// } else {\n\t\t\t\t// \tuni.showLoading({\n\t\t\t\t// \t\ttitle: '正在连接蓝牙...'\n\t\t\t\t// \t})\n\t\t\t\t// \tif (this.connected === 1) {\n\t\t\t\t// \t\tuni.hideLoading()\n\t\t\t\t// \t} else {\n\t\t\t\t// \t\tsetTimeout(() => {\n\t\t\t\t// \t\t\t// this.connected = 2\n\t\t\t\t// \t\t\tuni.hideLoading()\n\t\t\t\t// \t\t}, 5000)\n\t\t\t\t// \t}\n\t\t\t\t// }\n\t\t\t})\n\t\t},\n\n\t\t// 获取所有蓝牙设备\n\t\tbp_getBluetoothDevices() {\n\t\t\tlet that = this\n\t\t\tuni.getBluetoothDevices({\n\t\t\t\tsuccess(res) {\n\t\t\t\t\tconsole.log('获取蓝牙所有设备', res)\n\t\t\t\t\tvar bp_devices = res.devices\n\t\t\t\t\tfor (let item of bp_devices) {\n\t\t\t\t\t\tif (item.name == 'FSRKB_BT-001' || item.localName == 'FSRKB_BT-001') {\n\t\t\t\t\t\t\tuni.hideLoading()\n\t\t\t\t\t\t\tlet e = item\n\t\t\t\t\t\t\tthat.bp_createBLEConnection(e)\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\n\t\tbp_stopBluetoothDevicesDiscovery() {\n\t\t\tthis.bp_discoveryStarted = false\n\t\t\tuni.stopBluetoothDevicesDiscovery()\n\t\t},\n\n\t\tbp_createBLEConnection(e) {\n\t\t\t// const ds = e.currentTarget.dataset\n\t\t\tthis.bp_stopBluetoothDevicesDiscovery()\n\t\t\tconsole.log('开始连接蓝牙~~~')\n\t\t\tconst deviceId = e.deviceId\n\t\t\tconst name = e.name\n\t\t\tuni.createBLEConnection({\n\t\t\t\tdeviceId,\n\t\t\t\tsuccess: (res) => {\n\t\t\t\t\tuni.hideLoading()\n\t\t\t\t\tconsole.log('连接血压计成功')\n\t\t\t\t\tthis.connected = 1\n\t\t\t\t\tthis.bp_getBLEDeviceServices(deviceId)\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\t// bp_closeBLEConnection() {\n\t\t// \tuni.closeBLEConnection({\n\t\t// \t\tdeviceId: this.bp_deviceId\n\t\t// \t})\n\t\t// \tthis.bp_connected = false\n\t\t// \tthis.bp_chs: []\n\t\t// \tthis.bp_canWrite = false\n\t\t// },\n\n\t\tbp_getBLEDeviceServices(deviceId) {\n\t\t\tconsole.log('获取血压计的所有服务')\n\t\t\tuni.getBLEDeviceServices({\n\t\t\t\tdeviceId,\n\t\t\t\tsuccess: (res) => {\n\t\t\t\t\tfor (let i = 0; i < res.services.length; i++) {\n\t\t\t\t\t\tif (res.services[i].uuid == '0000FFF0-0000-1000-8000-00805F9B34FB') {\n\t\t\t\t\t\t\tthis.bp_getBLEDeviceCharacteristics(deviceId, res.services[i].uuid)\n\t\t\t\t\t\t\treturn\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\tbp_getBLEDeviceCharacteristics(deviceId, serviceId) {\n\t\t\tconsole.log('获取血压计的特征值')\n\t\t\tuni.getBLEDeviceCharacteristics({\n\t\t\t\tdeviceId,\n\t\t\t\tserviceId,\n\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t// console.log('getBLEDeviceCharacteristics success', res.characteristics)\n\t\t\t\t\tfor (let i = 0; i < res.characteristics.length; i++) {\n\t\t\t\t\t\tlet item = res.characteristics[i]\n\t\t\t\t\t\tif (item.uuid == '0000FFF6-0000-1000-8000-00805F9B34FB') {\n\t\t\t\t\t\t\tthis.bp_canWrite = true\n\t\t\t\t\t\t\tthis.bp_deviceId = deviceId\n\t\t\t\t\t\t\tthis.bp_serviceId = serviceId\n\t\t\t\t\t\t\tthis.bp_characteristicId = item.uuid\n\t\t\t\t\t\t\tthis.bp_writeBLECharacteristicValue()\n\n\t\t\t\t\t\t\tuni.notifyBLECharacteristicValueChange({\n\t\t\t\t\t\t\t\tdeviceId,\n\t\t\t\t\t\t\t\tserviceId,\n\t\t\t\t\t\t\t\tcharacteristicId: item.uuid,\n\t\t\t\t\t\t\t\tstate: true,\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tfail(res) {\n\t\t\t\t\tconsole.error('getBLEDeviceCharacteristics', res)\n\t\t\t\t}\n\t\t\t})\n\t\t\t// 操作之前先监听，保证第一时间获取数据\n\t\t\tuni.onBLECharacteristicValueChange((characteristic) => {\n\t\t\t\tlet vale = this.ab2hex(characteristic.value)\n\t\t\t\tif (vale.substr(6, 2) == 'cc' && this.connected != 2) { //判断是否测量结束，结束则进入\n\t\t\t\t\tif (vale.substr(10, 2) == '00') { //判断是否错误，错误则进入\n\t\t\t\t\t\tswitch (parseInt(vale.substr(8, 2), 16)) {\n\t\t\t\t\t\t\tcase 1:\n\t\t\t\t\t\t\t\tconsole.log('传感器异常！')\n\t\t\t\t\t\t\t\t// 断开蓝牙连接\n\t\t\t\t\t\t\t\tuni.closeBluetoothAdapter({\n\t\t\t\t\t\t\t\t\tsuccess: () => {\n\t\t\t\t\t\t\t\t\t\tthis.connected = 2\n\t\t\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\t\t\ttitle: '传感器异常！',\n\t\t\t\t\t\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\t\t\t\t\t\tduration: 3000\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\tcase 2:\n\t\t\t\t\t\t\t\tconsole.log('不足以检测心跳或血压！')\n\t\t\t\t\t\t\t\tuni.closeBluetoothAdapter({\n\t\t\t\t\t\t\t\t\tsuccess: () => {\n\t\t\t\t\t\t\t\t\t\tthis.connected = 2\n\t\t\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\t\t\ttitle: '不足以检测心跳或血压！',\n\t\t\t\t\t\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\t\t\t\t\t\tduration: 3000\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\tcase 3:\n\t\t\t\t\t\t\t\tconsole.log('异常测量结果！')\n\t\t\t\t\t\t\t\tuni.closeBluetoothAdapter({\n\t\t\t\t\t\t\t\t\tsuccess: () => {\n\t\t\t\t\t\t\t\t\t\tthis.connected = 2\n\t\t\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\t\t\ttitle: '异常测量结果！',\n\t\t\t\t\t\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\t\t\t\t\t\tduration: 3000\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\tcase 4:\n\t\t\t\t\t\t\t\tconsole.log('袖口太松或泄漏（10秒压力小于30毫米）')\n\t\t\t\t\t\t\t\tuni.closeBluetoothAdapter({\n\t\t\t\t\t\t\t\t\tsuccess: () => {\n\t\t\t\t\t\t\t\t\t\tthis.connected = 2\n\t\t\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\t\t\ttitle: '袖口太松或泄漏（10秒压力小于30毫米）！',\n\t\t\t\t\t\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\t\t\t\t\t\tduration: 3000\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\tcase 5:\n\t\t\t\t\t\t\t\tconsole.log('气管堵塞')\n\t\t\t\t\t\t\t\tuni.closeBluetoothAdapter({\n\t\t\t\t\t\t\t\t\tsuccess: () => {\n\t\t\t\t\t\t\t\t\t\tthis.connected = 2\n\t\t\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\t\t\ttitle: '气管堵塞！',\n\t\t\t\t\t\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\t\t\t\t\t\tduration: 3000\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\tcase 6:\n\t\t\t\t\t\t\t\tconsole.log('压力波动过大')\n\t\t\t\t\t\t\t\tuni.closeBluetoothAdapter({\n\t\t\t\t\t\t\t\t\tsuccess: () => {\n\t\t\t\t\t\t\t\t\t\tthis.connected = 2\n\t\t\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\t\t\ttitle: '压力波动过大！',\n\t\t\t\t\t\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\t\t\t\t\t\tduration: 3000\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\tcase 7:\n\t\t\t\t\t\t\t\tconsole.log('压力超过上限')\n\t\t\t\t\t\t\t\tuni.closeBluetoothAdapter({\n\t\t\t\t\t\t\t\t\tsuccess: () => {\n\t\t\t\t\t\t\t\t\t\tthis.connected = 2\n\t\t\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\t\t\ttitle: '压力超过上限！',\n\t\t\t\t\t\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\t\t\t\t\t\tduration: 3000\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\tcase 8:\n\t\t\t\t\t\t\t\tconsole.log('请查看标准数据是否异常')\n\t\t\t\t\t\t\t\tuni.closeBluetoothAdapter({\n\t\t\t\t\t\t\t\t\tsuccess: () => {\n\t\t\t\t\t\t\t\t\t\tthis.connected = 2\n\t\t\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\t\t\ttitle: '请查看标准数据是否异常！',\n\t\t\t\t\t\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\t\t\t\t\t\tduration: 3000\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t}\n\t\t\t\t\t} else { //输出测量结果\n\t\t\t\t\t\tuni.hideLoading()\n\t\t\t\t\t\tif (parseInt(vale.substr(8, 2), 16) && parseInt(vale.substr(10, 2), 16)) {\n\t\t\t\t\t\t\t// 高压\n\t\t\t\t\t\t\tthis.high_blood_pressure = parseInt(vale.substr(8, 2), 16)\n\t\t\t\t\t\t\t// 低压\n\t\t\t\t\t\t\tthis.low_blood_pressure = parseInt(vale.substr(10, 2), 16)\n\t\t\t\t\t\t\tthis.blood_pressure = {\n\t\t\t\t\t\t\t\t'high_blood_pressure': this.high_blood_pressure,\n\t\t\t\t\t\t\t\t'low_blood_pressure': this.low_blood_pressure,\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tconsole.log('最终血压为:', this.blood_pressure, JSON.stringify(this.blood_pressure))\n\t\t\t\t\t\t\tthis.pressure_pulse_rate = parseInt(vale.substr(12, 2), 16)\n\t\t\t\t\t\t}\n\t\t\t\t\t\tconsole.log('高压：', this.high_blood_pressure,\n\t\t\t\t\t\t\t'低压：', this.low_blood_pressure,\n\t\t\t\t\t\t\t'心率', parseInt(vale.substr(12, 2), 16))\n\t\t\t\t\t\tconsole.log('高压：', parseInt(vale.substr(8, 2), 16),\n\t\t\t\t\t\t\t'低压：', parseInt(vale.substr(10, 2), 16),\n\t\t\t\t\t\t\t'心率', parseInt(vale.substr(12, 2), 16))\n\n\t\t\t\t\t}\n\t\t\t\t} else { //输出当前压力值\n\t\t\t\t\tuni.hideLoading()\n\t\t\t\t\tconsole.log('当前压力：', parseInt(vale.substr(10, 2), 16))\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\tbp_writeBLECharacteristicValue() {\n\t\t\tlet sz = [0xBE, 0xB0, 0x01, 0xc0, 0x36]\n\t\t\tlet buffer = new ArrayBuffer(5)\n\t\t\tlet dataView = new DataView(buffer)\n\n\t\t\tfor (let i = 0; i < 5; i++) {\n\t\t\t\tdataView.setUint8(i, sz[i])\n\t\t\t}\n\t\t\tconsole.log(buffer)\n\t\t\tuni.writeBLECharacteristicValue({\n\t\t\t\tdeviceId: this.bp_deviceId,\n\t\t\t\tserviceId: this.bp_serviceId,\n\t\t\t\tcharacteristicId: this.bp_characteristicId,\n\t\t\t\tvalue: buffer,\n\t\t\t})\n\t\t},\n\t\tbp_closeBluetoothAdapter() {\n\t\t\tthis.connected = 2\n\t\t\tthis.bp_discoveryStarted = false\n\t\t\tuni.closeBluetoothAdapter({\n\t\t\t\tsuccess() {\n\t\t\t\t\tuni.hideLoading()\n\t\t\t\t\tconsole.log('关闭蓝牙设备')\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\n\t\t// 血氧仪\n\t\t// 初始化蓝牙模块\n\t\tbo_openBluetoothAdapter() {\n\t\t\tthis.bo_discoveryStarted = false\n\t\t\tconsole.log('初始化蓝牙模块，进行血氧仪连接')\n\t\t\tuni.openBluetoothAdapter({\n\t\t\t\tsuccess: (res) => {\n\t\t\t\t\tconsole.log('openBluetoothAdapter success', res)\n\t\t\t\t\tthis.bo_startBluetoothDevicesDiscovery()\n\t\t\t\t},\n\t\t\t\tfail: (res) => {\n\t\t\t\t\tif (res.errCode === 10001) {\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: '用户蓝牙未开启或者手机不支持蓝牙功能',\n\t\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\t\tduration: 3000\n\t\t\t\t\t\t})\n\t\t\t\t\t\tconsole.log('用户蓝牙未开启或者手机不支持蓝牙功能')\n\t\t\t\t\t\t// 监听手机蓝牙状态\n\t\t\t\t\t\tuni.onBluetoothAdapterStateChange(function(res) {\n\t\t\t\t\t\t\tconsole.log('onBluetoothAdapterStateChange监听手机蓝牙状态', res)\n\t\t\t\t\t\t\tif (res.available) {\n\t\t\t\t\t\t\t\tthis.bo_startBluetoothDevicesDiscovery()\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\n\t\t// 开始搜寻附近的蓝牙设备\n\t\tbo_startBluetoothDevicesDiscovery() {\n\t\t\tconsole.log('this.bo_discoveryStarted', this.bo_discoveryStarted)\n\t\t\t// 通过bo_discoveryStarted判断是否开启蓝牙设备搜索\n\t\t\tif (this.bo_discoveryStarted) {\n\t\t\t\treturn\n\t\t\t}\n\t\t\tthis.bo_discoveryStarted = true\n\t\t\tuni.startBluetoothDevicesDiscovery({\n\t\t\t\t// 允许重复上报同一设备\n\t\t\t\t// allowDuplicatesKey: true,\n\t\t\t\tsuccess: (res) => {\n\t\t\t\t\tconsole.log('startBluetoothDevicesDiscovery success', res)\n\t\t\t\t\tthis.bo_onBluetoothDeviceFound()\n\t\t\t\t},\n\t\t\t\tfail: () => {\n\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\ttitile: '提示',\n\t\t\t\t\t\tcontent: '未搜索到蓝牙设备'\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\n\t\t// 监听寻找到新设备的事件\n\t\tbo_onBluetoothDeviceFound() {\n\t\t\tuni.onBluetoothDeviceFound((res) => {\n\t\t\t\tuni.showLoading({\n\t\t\t\t\ttitle: '正在连接蓝牙...'\n\t\t\t\t})\n\t\t\t\tconsole.log('onBluetoothDeviceFound success', res)\n\t\t\t\tthis.bo_getBluetoothDevices()\n\t\t\t\t// var bo_devices = res.devices\n\t\t\t\t// if (bo_devices[0].name == 'Samo4 pulse oximeter') {\n\t\t\t\t// \tuni.hideLoading()\n\t\t\t\t// \tlet e = bo_devices[0]\n\t\t\t\t// \tthis.bo_createBLEConnection(e)\n\t\t\t\t// } else {\n\t\t\t\t// \t// 停止搜索蓝牙设备\n\t\t\t\t// \t// this.bo_stopBluetoothDevicesDiscovery()\n\t\t\t\t// \tuni.showLoading({\n\t\t\t\t// \t\ttitle: '正在连接蓝牙...'\n\t\t\t\t// \t})\n\t\t\t\t// \tif (this.connected === 1) {\n\t\t\t\t// \t\tuni.hideLoading()\n\t\t\t\t// \t} else {\n\t\t\t\t// \t\tsetTimeout(() => {\n\t\t\t\t// \t\t\t// this.connected = 2\n\t\t\t\t// \t\t\tuni.hideLoading()\n\t\t\t\t// \t\t}, 5000)\n\t\t\t\t// \t}\n\t\t\t\t// }\n\t\t\t})\n\t\t},\n\n\t\t// 获取所有蓝牙设备\n\t\tbo_getBluetoothDevices() {\n\t\t\tlet that = this\n\t\t\tuni.getBluetoothDevices({\n\t\t\t\tsuccess(res) {\n\t\t\t\t\tconsole.log('获取蓝牙所有设备', res)\n\t\t\t\t\tvar bo_devices = res.devices\n\t\t\t\t\tfor (let item of bo_devices) {\n\t\t\t\t\t\tif (item.name == 'Samo4 pulse oximeter') {\n\t\t\t\t\t\t\tlet e = item\n\t\t\t\t\t\t\tthat.bo_createBLEConnection(e)\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\n\t\t// 连接低功耗蓝牙设备\n\t\tbo_createBLEConnection(e) {\n\t\t\tconsole.log('开始连接蓝牙~~~')\n\t\t\tconst deviceId = e.deviceId\n\t\t\tconst name = e.name\n\t\t\tuni.createBLEConnection({\n\t\t\t\tdeviceId,\n\t\t\t\tsuccess: (res) => {\n\t\t\t\t\tuni.hideLoading()\n\t\t\t\t\tconsole.log('连接蓝牙成功')\n\t\t\t\t\tthis.connected = 1\n\t\t\t\t\tthis.bo_getBLEDeviceServices(deviceId)\n\t\t\t\t\t// 停止搜索蓝牙\n\t\t\t\t\tthis.bo_stopBluetoothDevicesDiscovery()\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\n\t\t// 停止搜索附近的蓝牙设备\n\t\tbo_stopBluetoothDevicesDiscovery() {\n\t\t\tconsole.log('停止搜索蓝牙设备')\n\t\t\tthis.bo_discoveryStarted = false\n\t\t\tuni.stopBluetoothDevicesDiscovery()\n\t\t},\n\n\t\t// 获取蓝牙设备所有服务\n\t\tbo_getBLEDeviceServices(deviceId) {\n\t\t\tconsole.log('获取血氧仪的所有服务')\n\t\t\tuni.getBLEDeviceServices({\n\t\t\t\tdeviceId,\n\t\t\t\tsuccess: (res) => {\n\t\t\t\t\tfor (let i = 0; i < res.services.length; i++) {\n\t\t\t\t\t\tconsole.log('血氧仪的所有服务', res.services[i])\n\t\t\t\t\t\tif (res.services[i].uuid == '0000FFF0-0000-1000-8000-00805F9B34FB') {\n\t\t\t\t\t\t\tthis.bo_getBLEDeviceCharacteristics(deviceId, res.services[i].uuid)\n\t\t\t\t\t\t\treturn\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\n\t\t// 获取蓝牙设备某个服务中所有特征值\n\t\tbo_getBLEDeviceCharacteristics(deviceId, serviceId) {\n\t\t\tconsole.log('获取血氧仪的特征值')\n\t\t\tuni.getBLEDeviceCharacteristics({\n\t\t\t\tdeviceId,\n\t\t\t\tserviceId,\n\t\t\t\tsuccess: (res) => {\n\t\t\t\t\tfor (let i = 0; i < res.characteristics.length; i++) {\n\t\t\t\t\t\tlet item = res.characteristics[i]\n\t\t\t\t\t\tconsole.log('血氧仪某个服务的特征值', item)\n\t\t\t\t\t\tif (item.uuid == '0000FFF4-0000-1000-8000-00805F9B34FB') {\n\t\t\t\t\t\t\tthis.bo_canWrite = true\n\t\t\t\t\t\t\tthis.bo_deviceId = deviceId\n\t\t\t\t\t\t\tthis.bo_serviceId = serviceId\n\t\t\t\t\t\t\tthis.bo_characteristicId = item.uuid\n\t\t\t\t\t\t\tthis.bo_writeBLECharacteristicValue()\n\t\t\t\t\t\t\t// 启用低功耗蓝牙设备特征值变化时的 notify 功能，订阅特征值\n\t\t\t\t\t\t\tuni.notifyBLECharacteristicValueChange({\n\t\t\t\t\t\t\t\tdeviceId,\n\t\t\t\t\t\t\t\tserviceId,\n\t\t\t\t\t\t\t\tcharacteristicId: item.uuid,\n\t\t\t\t\t\t\t\tstate: true,\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tfail(res) {\n\t\t\t\t\tconsole.error('getBLEDeviceCharacteristics', res)\n\t\t\t\t}\n\t\t\t})\n\n\t\t\t// 监听低功耗蓝牙设备的特征值变化事件，(操作之前先监听，保证第一时间获取数据)\n\t\t\tuni.onBLECharacteristicValueChange((characteristic) => {\n\t\t\t\tlet vale = this.ab2hex(characteristic.value)\n\t\t\t\tif (vale.substr(20, 2) == 1 && this.connected != 2) { //判断是否戴好\n\t\t\t\t\tconsole.log('未戴好！')\n\t\t\t\t\t// 断开蓝牙连接\n\t\t\t\t\tuni.closeBluetoothAdapter({\n\t\t\t\t\t\tsuccess: () => {\n\t\t\t\t\t\t\tthis.connected = 2\n\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\ttitle: '请检查是否佩戴血氧仪',\n\t\t\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\t\t\tduration: 3000\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t} else {\n\t\t\t\t\tuni.hideLoading()\n\t\t\t\t\tthis.blood_oxygen = parseInt(vale.substr(16, 2), 16)\n\t\t\t\t\tthis.oxygen_pulse_rate = parseInt(vale.substr(18, 2), 16)\n\t\t\t\t\tconsole.log(`当前血氧饱和度: ${this.blood_oxygen},  脉率值${this.oxygen_pulse_rate}`)\n\t\t\t\t\t// console.log('当前血氧含量为：', parseInt(vale.substr(16, 2), 16), '脉率值:', parseInt(vale.substr(18, 2), 16)) //输出当前血氧饱和度,脉率值\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\n\t\t// 发送二进制数据\n\t\tbo_writeBLECharacteristicValue() {\n\t\t\tlet buffer = new ArrayBuffer(1)\n\t\t\tlet dataView = new DataView(buffer)\n\t\t\tconsole.log(`buffer是${this.buffer}, dataView是${this.dataView}`)\n\t\t\tdataView.setUint8(0, 0)\n\t\t\tuni.writeBLECharacteristicValue({\n\t\t\t\tdeviceId: this.bo_deviceId,\n\t\t\t\tserviceId: this.bo_serviceId,\n\t\t\t\tcharacteristicId: this.bo_characteristicId,\n\t\t\t\tvalue: buffer,\n\t\t\t})\n\t\t},\n\n\t\t// 关闭蓝牙模块\n\t\tbo_closeBluetoothAdapter() {\n\t\t\tthis.connected = 2\n\t\t\tthis.bo_discoveryStarted = false\n\t\t\tuni.closeBluetoothAdapter({\n\t\t\t\tsuccess() {\n\t\t\t\t\tuni.hideLoading()\n\t\t\t\t\tconsole.log('关闭蓝牙设备')\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t},\n}\n","import mod from \"-!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-1!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-2!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./collect-data.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-1!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-2!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./collect-data.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1591752222186\n      var cssReload = require(\"C:/lhf/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}