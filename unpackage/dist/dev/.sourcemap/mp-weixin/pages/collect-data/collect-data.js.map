{"version":3,"sources":["webpack:///C:/Users/window/Desktop/nursing-home/main.js","webpack:///C:/Users/window/Desktop/nursing-home/pages/collect-data/collect-data.vue?94d3","webpack:///C:/Users/window/Desktop/nursing-home/pages/collect-data/collect-data.vue?492f","webpack:///C:/Users/window/Desktop/nursing-home/pages/collect-data/collect-data.vue?8fde","webpack:///C:/Users/window/Desktop/nursing-home/pages/collect-data/collect-data.vue?84e0","webpack:///C:/Users/window/Desktop/nursing-home/pages/collect-data/collect-data.vue","webpack:///C:/Users/window/Desktop/nursing-home/pages/collect-data/collect-data.vue?b650","webpack:///C:/Users/window/Desktop/nursing-home/pages/collect-data/collect-data.vue?282f"],"names":["createPage","Page","data","navTitles","currentIndex","cWidth","cHeight","pixelRatio","patientList","patient","pid","connected","bp_devices","bp_connected","bp_chs","bp_discoveryStarted","bp_canWrite","bp_deviceId","bp_serviceId","bp_characteristicId","blood_pressure","high_blood_pressure","low_blood_pressure","pressure_pulse_rate","bo_devices","bo_chs","bo_discoveryStarted","bo_canWrite","bo_deviceId","bo_serviceId","bo_characteristicId","blood_oxygen","oxygen_pulse_rate","onLoad","options","patient_id","fetchPatientInfo","fetchPatientList","watch","newVal","oldVal","bo_closeBluetoothAdapter","methods","bindPickerChange","e","item","id","Number","detail","value","uni","request","url","success","res","switchTab","index","hideLoading","getTimestamp","timestamp","Date","getTime","saveData","type","console","log","JSON","stringify","header","method","showToast","title","icon","duration","pulse_rate","inArray","arr","key","val","i","length","ab2hex","buffer","hexArr","Array","prototype","map","call","Uint8Array","bit","toString","slice","join","bp_openBluetoothAdapter","openBluetoothAdapter","bp_startBluetoothDevicesDiscovery","fail","errCode","onBluetoothAdapterStateChange","available","startBluetoothDevicesDiscovery","allowDuplicatesKey","bp_onBluetoothDeviceFound","bp_getBluetoothAdapterState","getBluetoothAdapterState","discovering","onBluetoothDeviceFound","devices","name","bp_createBLEConnection","bp_stopBluetoothDevicesDiscovery","showLoading","setTimeout","stopBluetoothDevicesDiscovery","deviceId","createBLEConnection","bp_getBLEDeviceServices","getBLEDeviceServices","services","uuid","bp_getBLEDeviceCharacteristics","serviceId","getBLEDeviceCharacteristics","characteristics","bp_writeBLECharacteristicValue","notifyBLECharacteristicValueChange","characteristicId","state","error","onBLECharacteristicValueChange","characteristic","vale","substr","parseInt","closeBluetoothAdapter","sz","ArrayBuffer","dataView","DataView","setUint8","writeBLECharacteristicValue","bp_closeBluetoothAdapter","bo_openBluetoothAdapter","bo_startBluetoothDevicesDiscovery","bo_onBluetoothDeviceFound","showModal","titile","content","bo_createBLEConnection","bo_stopBluetoothDevicesDiscovery","bo_getBLEDeviceServices","bo_getBLEDeviceCharacteristics","bo_writeBLECharacteristicValue"],"mappings":"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","file":"pages/collect-data/collect-data.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'\nimport Page from './pages/collect-data/collect-data.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./collect-data.vue?vue&type=template&id=2786e414&\"\nvar renderjs\nimport script from \"./collect-data.vue?vue&type=script&lang=js&\"\nexport * from \"./collect-data.vue?vue&type=script&lang=js&\"\nimport style0 from \"./collect-data.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"Users/window/Desktop/nursing-home/pages/collect-data/collect-data.vue\"\nexport default component.exports","export * from \"-!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./collect-data.vue?vue&type=template&id=2786e414&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./collect-data.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./collect-data.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport uCharts from '@/components/u-charts/u-charts.js';\n\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\tnavTitles: ['血压', '血氧', '血糖'],\n\t\t\tcurrentIndex: 0,\n\t\t\tcWidth: '',\n\t\t\tcHeight: '',\n\t\t\tpixelRatio: 1,\n\t\t\tpatientList: [],\n\t\t\tpatient: null,\n\t\t\tpid: '', // 当前患者id\n\t\t\tconnected: 0, // 0: 未连接, 1: 已连接, 2: 重新连接\n\t\t\t// 血压参数\n\t\t\tbp_devices: [],\n\t\t\tbp_connected: false,\n\t\t\tbp_chs: [],\n\t\t\tbp_discoveryStarted: false,\n\t\t\tbp_canWrite: false,\n\t\t\tbp_deviceId: '',\n\t\t\tbp_serviceId: '',\n\t\t\tbp_characteristicId: '',\n\t\t\tblood_pressure: null,\n\t\t\thigh_blood_pressure: 0, // 高压\n\t\t\tlow_blood_pressure: 0, // 低压\n\t\t\tpressure_pulse_rate: 0, // 血压平均心率\n\t\t\t// 血氧参数\n\t\t\tbo_devices: [],\n\t\t\tbo_chs: [],\n\t\t\tbo_discoveryStarted: false,\n\t\t\tbo_canWrite: false,\n\t\t\tbo_deviceId: '',\n\t\t\tbo_serviceId: '',\n\t\t\tbo_characteristicId: '',\n\t\t\tblood_oxygen: 0, // 血压、血氧、血糖值\n\t\t\toxygen_pulse_rate: 0, // 血氧平均心率\n\t\t};\n\t},\n\tonLoad(options) {\n\t\t// console.log('options',options)\n\t\t// 从客户管理界面进来会传入patient_id\n\t\tif (options.patient_id) {\n\t\t\tthis.pid = options.patient_id\n\t\t\tthis.fetchPatientInfo(options.patient_id)\n\t\t}\n\t\tthis.fetchPatientList()\n\t},\n\n\twatch: {\n\t\tpatient(newVal, oldVal) {\n\t\t\t// 每次切换病人时关闭蓝牙模块, 之后再重新连接蓝牙进行采集数据\n\t\t\tif (oldVal != null) {\n\t\t\t\tthis.bo_closeBluetoothAdapter()\n\t\t\t\t// 让按钮显示'连接蓝牙'\n\t\t\t\tthis.connected = 0\n\t\t\t}\n\t\t\t// console.log(`newVal ${JSON.stringify(newVal)}, oldVal ${oldVal}`)\n\t\t}\n\t},\n\n\tmethods: {\n\t\t// 选择患者\n\t\tbindPickerChange(e) {\n\t\t\tthis.connected = 0\n\t\t\t// console.log(e)\n\t\t\tfor (let item of this.patientList) {\n\t\t\t\tif (item.id === Number(e.detail.value) + 1) {\n\t\t\t\t\tthis.pid = item.id\n\t\t\t\t\tthis.fetchPatientInfo(item.id)\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t// 获取患者列表(ID)\n\t\tasync fetchPatientList() {\n\t\t\tawait uni.request({\n\t\t\t\turl: 'https://ciai.le-cx.com/index.php/api/patient/patientList',\n\t\t\t\tsuccess: res => {\n\t\t\t\t\tthis.patientList = res.data.data\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\t// 获取患者信息\n\t\tasync fetchPatientInfo(id) {\n\t\t\tawait uni.request({\n\t\t\t\turl: `https://ciai.le-cx.com/index.php/api/patient/info?id=${id}`,\n\t\t\t\tsuccess: res => {\n\t\t\t\t\tthis.patient = res.data.data\n\t\t\t\t},\n\t\t\t})\n\t\t},\n\t\t// 切换导航tab\n\t\tswitchTab(index) {\n\t\t\tthis.currentIndex = index\n\t\t\t// this.connected = 0\n\t\t\tuni.hideLoading()\n\t\t},\n\n\t\t// 获取当前时间戳\n\t\tgetTimestamp() {\n\t\t\tlet timestamp = new Date().getTime()\n\t\t\treturn timestamp\n\t\t},\n\n\t\t// 血状态信息存储\n\t\tasync saveData(type) {\n\t\t\tconsole.log('采集数据，connected', this.connected)\n\t\t\tif (this.connected !== 2 && (this.blood_oxygen !== 0 || this.high_blood_pressure !== 0)) {\n\t\t\t\t// 采集数据后断开蓝牙连接（让connected === 2,只能存储一次数据）\n\t\t\t\tthis.bo_closeBluetoothAdapter()\n\t\t\t\t// 通过判断type的值存储血压、血氧或血糖的数据\n\t\t\t\tif (type === 1) {\n\t\t\t\t\tawait uni.request({\n\t\t\t\t\t\turl: 'https://ciai.le-cx.com/index.php/api/alarm/putHealthRow',\n\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\t'type': type,\n\t\t\t\t\t\t\t'value': JSON.stringify(this.blood_pressure),\n\t\t\t\t\t\t\t'patient_id': this.pid,\n\t\t\t\t\t\t\t'pulse_rate': this.pressure_pulse_rate,\n\t\t\t\t\t\t\t'timestamp': this.getTimestamp()\n\t\t\t\t\t\t},\n\t\t\t\t\t\theader: {\n\t\t\t\t\t\t\t'content-type': 'application/x-www-form-urlencoded',\n\t\t\t\t\t\t},\n\t\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\t\tsuccess(res) {\n\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\ttitle: '血压数据采集成功',\n\t\t\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\t\t\tduration: 3000\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\tconsole.log('血压数据存储成功', res)\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t} else if (type === 2) {\n\t\t\t\t\tawait uni.request({\n\t\t\t\t\t\turl: 'https://ciai.le-cx.com/index.php/api/alarm/putHealthRow',\n\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\t'type': type,\n\t\t\t\t\t\t\t'value': this.blood_oxygen,\n\t\t\t\t\t\t\t'patient_id': this.pid,\n\t\t\t\t\t\t\t'pulse_rate': this.pulse_rate,\n\t\t\t\t\t\t\t'timestamp': this.getTimestamp()\n\t\t\t\t\t\t},\n\t\t\t\t\t\theader: {\n\t\t\t\t\t\t\t'content-type': 'application/x-www-form-urlencoded',\n\t\t\t\t\t\t},\n\t\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\t\tsuccess(res) {\n\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\ttitle: '血氧数据采集成功',\n\t\t\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\t\t\tduration: 3000\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\tconsole.log('血氧数据存储成功', res)\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (type === 1) {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: `请先连接血压计蓝牙`,\n\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\tduration: 3000\n\t\t\t\t\t})\n\t\t\t\t} else if (type === 2) {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: `请先连接血氧仪蓝牙`,\n\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\tduration: 3000\n\t\t\t\t\t})\n\t\t\t\t} else {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: `请先连接血糖仪蓝牙`,\n\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\tduration: 3000\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tinArray(arr, key, val) {\n\t\t\tfor (let i = 0; i < arr.length; i++) {\n\t\t\t\tif (arr[i][key] === val) {\n\t\t\t\t\treturn i;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn -1;\n\t\t},\n\n\t\t// ArrayBuffer转16进度字符串示例\n\t\tab2hex(buffer) {\n\t\t\tvar hexArr = Array.prototype.map.call(\n\t\t\t\tnew Uint8Array(buffer),\n\t\t\t\tfunction(bit) {\n\t\t\t\t\treturn ('00' + bit.toString(16)).slice(-2)\n\t\t\t\t}\n\t\t\t)\n\t\t\treturn hexArr.join('');\n\t\t},\n\n\t\t// 血压计\n\t\tbp_openBluetoothAdapter() {\n\t\t\tthis.bp_discoveryStarted = false\n\t\t\tconsole.log('初始化血压计蓝牙')\n\t\t\tuni.openBluetoothAdapter({\n\t\t\t\tsuccess: (res) => {\n\t\t\t\t\tconsole.log('openBluetoothAdapter success', res)\n\t\t\t\t\tthis.bp_startBluetoothDevicesDiscovery()\n\t\t\t\t},\n\t\t\t\tfail: (res) => {\n\t\t\t\t\tif (res.errCode === 10001) {\n\t\t\t\t\t\tuni.onBluetoothAdapterStateChange((res) => {\n\t\t\t\t\t\t\tconsole.log('onBluetoothAdapterStateChange', res)\n\t\t\t\t\t\t\tif (res.available) {\n\t\t\t\t\t\t\t\tthis.bp_startBluetoothDevicesDiscovery()\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\tbp_startBluetoothDevicesDiscovery() {\n\t\t\tif (this.bp_discoveryStarted) {\n\t\t\t\treturn\n\t\t\t}\n\t\t\tthis.bp_discoveryStarted = true\n\t\t\tuni.startBluetoothDevicesDiscovery({\n\t\t\t\tallowDuplicatesKey: true,\n\t\t\t\tsuccess: (res) => {\n\t\t\t\t\tconsole.log('startBluetoothDevicesDiscovery success', res)\n\t\t\t\t\tthis.bp_onBluetoothDeviceFound()\n\t\t\t\t},\n\t\t\t})\n\t\t},\n\t\tbp_getBluetoothAdapterState() {\n\t\t\tconsole.log('getBluetoothAdapterState')\n\t\t\tuni.getBluetoothAdapterState({\n\t\t\t\tsuccess: (res) => {\n\t\t\t\t\tconsole.log('getBluetoothAdapterState', res)\n\t\t\t\t\tif (res.discovering) {\n\t\t\t\t\t\tthis.bp_onBluetoothDeviceFound()\n\t\t\t\t\t} else if (res.available) {\n\t\t\t\t\t\tthis.bp_startBluetoothDevicesDiscovery()\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\tbp_onBluetoothDeviceFound() {\n\t\t\tconsole.log('开始查找蓝牙设备')\n\t\t\tuni.onBluetoothDeviceFound((res) => {\n\t\t\t\tvar bp_devices = res.devices\n\t\t\t\tconsole.log('devices', bp_devices[0].name)\n\t\t\t\tif (bp_devices[0].name == 'FSRKB_BT-001') {\n\t\t\t\t\tuni.hideLoading()\n\t\t\t\t\tlet e = bp_devices[0]\n\t\t\t\t\tthis.bp_createBLEConnection(e)\n\t\t\t\t} else {\n\t\t\t\t\t// 停止搜索蓝牙设备\n\t\t\t\t\tthis.bp_stopBluetoothDevicesDiscovery()\n\t\t\t\t\tuni.showLoading({\n\t\t\t\t\t\ttitle: '正在连接蓝牙...'\n\t\t\t\t\t})\n\t\t\t\t\tif (this.connected === 1) {\n\t\t\t\t\t\tuni.hideLoading()\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t// this.connected = 2\n\t\t\t\t\t\t\tuni.hideLoading()\n\t\t\t\t\t\t}, 5000)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\tbp_stopBluetoothDevicesDiscovery() {\n\t\t\tthis.bp_discoveryStarted = false\n\t\t\tuni.stopBluetoothDevicesDiscovery()\n\t\t},\n\n\t\tbp_createBLEConnection(e) {\n\t\t\t// const ds = e.currentTarget.dataset\n\t\t\tthis.bp_stopBluetoothDevicesDiscovery()\n\t\t\tconsole.log('开始连接蓝牙~~~')\n\t\t\tconst deviceId = e.deviceId\n\t\t\tconst name = e.name\n\t\t\tuni.createBLEConnection({\n\t\t\t\tdeviceId,\n\t\t\t\tsuccess: (res) => {\n\t\t\t\t\tconsole.log('连接血压计成功')\n\t\t\t\t\tthis.connected = 1\n\t\t\t\t\tthis.bp_getBLEDeviceServices(deviceId)\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\t// bp_closeBLEConnection() {\n\t\t// \tuni.closeBLEConnection({\n\t\t// \t\tdeviceId: this.bp_deviceId\n\t\t// \t})\n\t\t// \tthis.bp_connected = false\n\t\t// \tthis.bp_chs: []\n\t\t// \tthis.bp_canWrite = false\n\t\t// },\n\n\t\tbp_getBLEDeviceServices(deviceId) {\n\t\t\tconsole.log('获取血压计的所有服务')\n\t\t\tuni.getBLEDeviceServices({\n\t\t\t\tdeviceId,\n\t\t\t\tsuccess: (res) => {\n\t\t\t\t\tfor (let i = 0; i < res.services.length; i++) {\n\t\t\t\t\t\tif (res.services[i].uuid == '0000FFF0-0000-1000-8000-00805F9B34FB') {\n\t\t\t\t\t\t\tthis.bp_getBLEDeviceCharacteristics(deviceId, res.services[i].uuid)\n\t\t\t\t\t\t\treturn\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\tbp_getBLEDeviceCharacteristics(deviceId, serviceId) {\n\t\t\tconsole.log('获取血压计的特征值')\n\t\t\tuni.getBLEDeviceCharacteristics({\n\t\t\t\tdeviceId,\n\t\t\t\tserviceId,\n\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t// console.log('getBLEDeviceCharacteristics success', res.characteristics)\n\t\t\t\t\tfor (let i = 0; i < res.characteristics.length; i++) {\n\t\t\t\t\t\tlet item = res.characteristics[i]\n\t\t\t\t\t\tif (item.uuid == '0000FFF6-0000-1000-8000-00805F9B34FB') {\n\t\t\t\t\t\t\tthis.bp_canWrite = true\n\t\t\t\t\t\t\tthis.bp_deviceId = deviceId\n\t\t\t\t\t\t\tthis.bp_serviceId = serviceId\n\t\t\t\t\t\t\tthis.bp_characteristicId = item.uuid\n\t\t\t\t\t\t\tthis.bp_writeBLECharacteristicValue()\n\n\t\t\t\t\t\t\tuni.notifyBLECharacteristicValueChange({\n\t\t\t\t\t\t\t\tdeviceId,\n\t\t\t\t\t\t\t\tserviceId,\n\t\t\t\t\t\t\t\tcharacteristicId: item.uuid,\n\t\t\t\t\t\t\t\tstate: true,\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tfail(res) {\n\t\t\t\t\tconsole.error('getBLEDeviceCharacteristics', res)\n\t\t\t\t}\n\t\t\t})\n\t\t\t// 操作之前先监听，保证第一时间获取数据\n\t\t\tuni.onBLECharacteristicValueChange((characteristic) => {\n\t\t\t\tlet vale = this.ab2hex(characteristic.value)\n\t\t\t\tif (vale.substr(6, 2) == 'cc' && this.connected != 2) { //判断是否测量结束，结束则进入\n\t\t\t\t\tif (vale.substr(10, 2) == '00') { //判断是否错误，错误则进入\n\t\t\t\t\t\tswitch (parseInt(vale.substr(8, 2), 16)) {\n\t\t\t\t\t\t\tcase 1:\n\t\t\t\t\t\t\t\tconsole.log('传感器异常！')\n\t\t\t\t\t\t\t\t// 断开蓝牙连接\n\t\t\t\t\t\t\t\tuni.closeBluetoothAdapter({\n\t\t\t\t\t\t\t\t\tsuccess: () => {\n\t\t\t\t\t\t\t\t\t\tthis.connected = 2\n\t\t\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\t\t\ttitle: '传感器异常！',\n\t\t\t\t\t\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\t\t\t\t\t\tduration: 3000\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\tcase 2:\n\t\t\t\t\t\t\t\tconsole.log('不足以检测心跳或血压！')\n\t\t\t\t\t\t\t\tuni.closeBluetoothAdapter({\n\t\t\t\t\t\t\t\t\tsuccess: () => {\n\t\t\t\t\t\t\t\t\t\tthis.connected = 2\n\t\t\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\t\t\ttitle: '不足以检测心跳或血压！',\n\t\t\t\t\t\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\t\t\t\t\t\tduration: 3000\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\tcase 3:\n\t\t\t\t\t\t\t\tconsole.log('异常测量结果！')\n\t\t\t\t\t\t\t\tuni.closeBluetoothAdapter({\n\t\t\t\t\t\t\t\t\tsuccess: () => {\n\t\t\t\t\t\t\t\t\t\tthis.connected = 2\n\t\t\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\t\t\ttitle: '异常测量结果！',\n\t\t\t\t\t\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\t\t\t\t\t\tduration: 3000\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\tcase 4:\n\t\t\t\t\t\t\t\tconsole.log('袖口太松或泄漏（10秒压力小于30毫米）')\n\t\t\t\t\t\t\t\tuni.closeBluetoothAdapter({\n\t\t\t\t\t\t\t\t\tsuccess: () => {\n\t\t\t\t\t\t\t\t\t\tthis.connected = 2\n\t\t\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\t\t\ttitle: '袖口太松或泄漏（10秒压力小于30毫米）！',\n\t\t\t\t\t\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\t\t\t\t\t\tduration: 3000\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\tcase 5:\n\t\t\t\t\t\t\t\tconsole.log('气管堵塞')\n\t\t\t\t\t\t\t\tuni.closeBluetoothAdapter({\n\t\t\t\t\t\t\t\t\tsuccess: () => {\n\t\t\t\t\t\t\t\t\t\tthis.connected = 2\n\t\t\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\t\t\ttitle: '气管堵塞！',\n\t\t\t\t\t\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\t\t\t\t\t\tduration: 3000\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\tcase 6:\n\t\t\t\t\t\t\t\tconsole.log('压力波动过大')\n\t\t\t\t\t\t\t\tuni.closeBluetoothAdapter({\n\t\t\t\t\t\t\t\t\tsuccess: () => {\n\t\t\t\t\t\t\t\t\t\tthis.connected = 2\n\t\t\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\t\t\ttitle: '压力波动过大！',\n\t\t\t\t\t\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\t\t\t\t\t\tduration: 3000\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\tcase 7:\n\t\t\t\t\t\t\t\tconsole.log('压力超过上限')\n\t\t\t\t\t\t\t\tuni.closeBluetoothAdapter({\n\t\t\t\t\t\t\t\t\tsuccess: () => {\n\t\t\t\t\t\t\t\t\t\tthis.connected = 2\n\t\t\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\t\t\ttitle: '压力超过上限！',\n\t\t\t\t\t\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\t\t\t\t\t\tduration: 3000\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\tcase 8:\n\t\t\t\t\t\t\t\tconsole.log('请查看标准数据是否异常')\n\t\t\t\t\t\t\t\tuni.closeBluetoothAdapter({\n\t\t\t\t\t\t\t\t\tsuccess: () => {\n\t\t\t\t\t\t\t\t\t\tthis.connected = 2\n\t\t\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\t\t\ttitle: '请查看标准数据是否异常！',\n\t\t\t\t\t\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\t\t\t\t\t\tduration: 3000\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t}\n\t\t\t\t\t} else { //输出测量结果\n\t\t\t\t\t\tuni.hideLoading()\n\t\t\t\t\t\tif (parseInt(vale.substr(8, 2), 16) && parseInt(vale.substr(10, 2), 16)) {\n\t\t\t\t\t\t\t// 高压\n\t\t\t\t\t\t\tthis.high_blood_pressure = parseInt(vale.substr(8, 2), 16)\n\t\t\t\t\t\t\t// 低压\n\t\t\t\t\t\t\tthis.low_blood_pressure = parseInt(vale.substr(10, 2), 16)\n\t\t\t\t\t\t\tthis.blood_pressure = {\n\t\t\t\t\t\t\t\t'high_blood_pressure': this.high_blood_pressure,\n\t\t\t\t\t\t\t\t'low_blood_pressure': this.low_blood_pressure,\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tconsole.log('最终血压为:', this.blood_pressure, JSON.stringify(this.blood_pressure))\n\t\t\t\t\t\t\tthis.pressure_pulse_rate = parseInt(vale.substr(12, 2), 16)\n\t\t\t\t\t\t}\n\t\t\t\t\t\tconsole.log('高压：', this.high_blood_pressure,\n\t\t\t\t\t\t\t'低压：', this.low_blood_pressure,\n\t\t\t\t\t\t\t'心率', parseInt(vale.substr(12, 2), 16))\n\t\t\t\t\t\tconsole.log('高压：', parseInt(vale.substr(8, 2), 16),\n\t\t\t\t\t\t\t'低压：', parseInt(vale.substr(10, 2), 16),\n\t\t\t\t\t\t\t'心率', parseInt(vale.substr(12, 2), 16))\n\n\t\t\t\t\t}\n\t\t\t\t} else { //输出当前压力值\n\t\t\t\t\tuni.hideLoading()\n\t\t\t\t\tconsole.log('当前压力：', parseInt(vale.substr(10, 2), 16))\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\tbp_writeBLECharacteristicValue() {\n\t\t\tlet sz = [0xBE, 0xB0, 0x01, 0xc0, 0x36]\n\t\t\tlet buffer = new ArrayBuffer(5)\n\t\t\tlet dataView = new DataView(buffer)\n\n\t\t\tfor (let i = 0; i < 5; i++) {\n\t\t\t\tdataView.setUint8(i, sz[i])\n\t\t\t}\n\t\t\tconsole.log(buffer)\n\t\t\tuni.writeBLECharacteristicValue({\n\t\t\t\tdeviceId: this.bp_deviceId,\n\t\t\t\tserviceId: this.bp_serviceId,\n\t\t\t\tcharacteristicId: this.bp_characteristicId,\n\t\t\t\tvalue: buffer,\n\t\t\t})\n\t\t},\n\t\tbp_closeBluetoothAdapter() {\n\t\t\tthis.connected = 2\n\t\t\tthis.bp_discoveryStarted = false\n\t\t\tuni.closeBluetoothAdapter({\n\t\t\t\tsuccess() {\n\t\t\t\t\tuni.hideLoading()\n\t\t\t\t\tconsole.log('关闭蓝牙设备')\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\n\t\t// 血氧仪\n\t\t// 初始化蓝牙模块\n\t\tbo_openBluetoothAdapter() {\n\t\t\tthis.bo_discoveryStarted = false\n\t\t\tconsole.log('初始化蓝牙模块，进行血氧仪连接')\n\t\t\tuni.openBluetoothAdapter({\n\t\t\t\tsuccess: (res) => {\n\t\t\t\t\tconsole.log('openBluetoothAdapter success', res)\n\t\t\t\t\tthis.bo_startBluetoothDevicesDiscovery()\n\t\t\t\t},\n\t\t\t\tfail: (res) => {\n\t\t\t\t\tif (res.errCode === 10001) {\n\t\t\t\t\t\tconsole.log('用户蓝牙未开启或者手机不支持蓝牙功能')\n\t\t\t\t\t\t// 监听手机蓝牙状态\n\t\t\t\t\t\tuni.onBluetoothAdapterStateChange(function(res) {\n\t\t\t\t\t\t\tconsole.log('onBluetoothAdapterStateChange监听手机蓝牙状态', res)\n\t\t\t\t\t\t\tif (res.available) {\n\t\t\t\t\t\t\t\tthis.bo_startBluetoothDevicesDiscovery()\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\n\t\t// 开始搜寻附近的蓝牙设备\n\t\tbo_startBluetoothDevicesDiscovery() {\n\t\t\tconsole.log('this.bo_discoveryStarted', this.bo_discoveryStarted)\n\t\t\t// 通过bo_discoveryStarted判断是否开启蓝牙设备搜索\n\t\t\tif (this.bo_discoveryStarted) {\n\t\t\t\treturn\n\t\t\t}\n\t\t\tthis.bo_discoveryStarted = true\n\t\t\tuni.startBluetoothDevicesDiscovery({\n\t\t\t\t// 允许重复上报同一设备\n\t\t\t\t// allowDuplicatesKey: true,\n\t\t\t\tsuccess: (res) => {\n\t\t\t\t\tconsole.log('startBluetoothDevicesDiscovery success', res)\n\t\t\t\t\tthis.bo_onBluetoothDeviceFound()\n\t\t\t\t},\n\t\t\t\tfail: () => {\n\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\ttitile: '提示',\n\t\t\t\t\t\tcontent: '未搜索到蓝牙设备'\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\n\t\t// 监听寻找到新设备的事件\n\t\tbo_onBluetoothDeviceFound() {\n\t\t\tuni.onBluetoothDeviceFound((res) => {\n\t\t\t\tconsole.log('onBluetoothDeviceFound success', res)\n\t\t\t\tvar bo_devices = res.devices\n\t\t\t\tif (bo_devices[0].name == 'Samo4 pulse oximeter') {\n\t\t\t\t\tuni.hideLoading()\n\t\t\t\t\tlet e = bo_devices[0]\n\t\t\t\t\tthis.bo_createBLEConnection(e)\n\t\t\t\t} else {\n\t\t\t\t\t// 停止搜索蓝牙设备\n\t\t\t\t\tthis.bo_stopBluetoothDevicesDiscovery()\n\t\t\t\t\tuni.showLoading({\n\t\t\t\t\t\ttitle: '正在连接蓝牙...'\n\t\t\t\t\t})\n\t\t\t\t\tif (this.connected === 1) {\n\t\t\t\t\t\tuni.hideLoading()\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t// this.connected = 2\n\t\t\t\t\t\t\tuni.hideLoading()\n\t\t\t\t\t\t}, 5000)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\n\t\t// 连接低功耗蓝牙设备\n\t\tbo_createBLEConnection(e) {\n\t\t\t// 停止搜索蓝牙\n\t\t\tthis.bo_stopBluetoothDevicesDiscovery()\n\t\t\tconsole.log('开始连接蓝牙~~~')\n\t\t\tconst deviceId = e.deviceId\n\t\t\tconst name = e.name\n\t\t\tuni.createBLEConnection({\n\t\t\t\tdeviceId,\n\t\t\t\tsuccess: (res) => {\n\t\t\t\t\tconsole.log('连接蓝牙成功')\n\t\t\t\t\tthis.connected = 1\n\t\t\t\t\tthis.bo_getBLEDeviceServices(deviceId)\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\n\t\t// 停止搜索附近的蓝牙设备\n\t\tbo_stopBluetoothDevicesDiscovery() {\n\t\t\tconsole.log('停止搜索蓝牙设备')\n\t\t\tthis.bo_discoveryStarted = false\n\t\t\tuni.stopBluetoothDevicesDiscovery()\n\t\t},\n\n\t\t// 获取蓝牙设备所有服务\n\t\tbo_getBLEDeviceServices(deviceId) {\n\t\t\tconsole.log('获取血氧仪的所有服务')\n\t\t\tuni.getBLEDeviceServices({\n\t\t\t\tdeviceId,\n\t\t\t\tsuccess: (res) => {\n\t\t\t\t\tfor (let i = 0; i < res.services.length; i++) {\n\t\t\t\t\t\tconsole.log('血氧仪的所有服务', res.services[i])\n\t\t\t\t\t\tif (res.services[i].uuid == '0000FFF0-0000-1000-8000-00805F9B34FB') {\n\t\t\t\t\t\t\tthis.bo_getBLEDeviceCharacteristics(deviceId, res.services[i].uuid)\n\t\t\t\t\t\t\treturn\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\n\t\t// 获取蓝牙设备某个服务中所有特征值\n\t\tbo_getBLEDeviceCharacteristics(deviceId, serviceId) {\n\t\t\tconsole.log('获取血氧仪的特征值')\n\t\t\tuni.getBLEDeviceCharacteristics({\n\t\t\t\tdeviceId,\n\t\t\t\tserviceId,\n\t\t\t\tsuccess: (res) => {\n\t\t\t\t\tfor (let i = 0; i < res.characteristics.length; i++) {\n\t\t\t\t\t\tlet item = res.characteristics[i]\n\t\t\t\t\t\tconsole.log('血氧仪某个服务的特征值', item)\n\t\t\t\t\t\tif (item.uuid == '0000FFF4-0000-1000-8000-00805F9B34FB') {\n\t\t\t\t\t\t\tthis.bo_canWrite = true\n\t\t\t\t\t\t\tthis.bo_deviceId = deviceId\n\t\t\t\t\t\t\tthis.bo_serviceId = serviceId\n\t\t\t\t\t\t\tthis.bo_characteristicId = item.uuid\n\t\t\t\t\t\t\tthis.bo_writeBLECharacteristicValue()\n\t\t\t\t\t\t\t// 启用低功耗蓝牙设备特征值变化时的 notify 功能，订阅特征值\n\t\t\t\t\t\t\tuni.notifyBLECharacteristicValueChange({\n\t\t\t\t\t\t\t\tdeviceId,\n\t\t\t\t\t\t\t\tserviceId,\n\t\t\t\t\t\t\t\tcharacteristicId: item.uuid,\n\t\t\t\t\t\t\t\tstate: true,\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tfail(res) {\n\t\t\t\t\tconsole.error('getBLEDeviceCharacteristics', res)\n\t\t\t\t}\n\t\t\t})\n\n\t\t\t// 监听低功耗蓝牙设备的特征值变化事件，(操作之前先监听，保证第一时间获取数据)\n\t\t\tuni.onBLECharacteristicValueChange((characteristic) => {\n\t\t\t\tlet vale = this.ab2hex(characteristic.value)\n\t\t\t\tif (vale.substr(20, 2) == 1 && this.connected != 2) { //判断是否戴好\n\t\t\t\t\tconsole.log('未戴好！')\n\t\t\t\t\t// 断开蓝牙连接\n\t\t\t\t\tuni.closeBluetoothAdapter({\n\t\t\t\t\t\tsuccess: () => {\n\t\t\t\t\t\t\tthis.connected = 2\n\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\ttitle: '请检查是否佩戴血氧仪',\n\t\t\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\t\t\tduration: 3000\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t} else {\n\t\t\t\t\tuni.hideLoading()\n\t\t\t\t\tthis.blood_oxygen = parseInt(vale.substr(16, 2), 16)\n\t\t\t\t\tthis.oxygen_pulse_rate = parseInt(vale.substr(18, 2), 16)\n\t\t\t\t\tconsole.log(`当前血氧饱和度: ${this.blood_oxygen},  脉率值${this.oxygen_pulse_rate}`)\n\t\t\t\t\t// console.log('当前血氧含量为：', parseInt(vale.substr(16, 2), 16), '脉率值:', parseInt(vale.substr(18, 2), 16)) //输出当前血氧饱和度,脉率值\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\n\t\t// 发送二进制数据\n\t\tbo_writeBLECharacteristicValue() {\n\t\t\tlet buffer = new ArrayBuffer(1)\n\t\t\tlet dataView = new DataView(buffer)\n\t\t\tconsole.log(`buffer是${this.buffer}, dataView是${this.dataView}`)\n\t\t\tdataView.setUint8(0, 0)\n\t\t\tuni.writeBLECharacteristicValue({\n\t\t\t\tdeviceId: this.bo_deviceId,\n\t\t\t\tserviceId: this.bo_serviceId,\n\t\t\t\tcharacteristicId: this.bo_characteristicId,\n\t\t\t\tvalue: buffer,\n\t\t\t})\n\t\t},\n\n\t\t// 关闭蓝牙模块\n\t\tbo_closeBluetoothAdapter() {\n\t\t\tthis.connected = 2\n\t\t\tthis.bo_discoveryStarted = false\n\t\t\tuni.closeBluetoothAdapter({\n\t\t\t\tsuccess() {\n\t\t\t\t\tuni.hideLoading()\n\t\t\t\t\tconsole.log('关闭蓝牙设备')\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t},\n}\n","import mod from \"-!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-1!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-2!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./collect-data.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-1!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-2!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./collect-data.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1589420123242\n      var cssReload = require(\"C:/lhf/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}