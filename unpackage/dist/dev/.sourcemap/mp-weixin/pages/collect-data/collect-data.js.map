{"version":3,"sources":["webpack:///C:/Users/window/Desktop/nursing-home/main.js","webpack:///C:/Users/window/Desktop/nursing-home/pages/collect-data/collect-data.vue?94d3","webpack:///C:/Users/window/Desktop/nursing-home/pages/collect-data/collect-data.vue?492f","webpack:///C:/Users/window/Desktop/nursing-home/pages/collect-data/collect-data.vue?8fde","webpack:///C:/Users/window/Desktop/nursing-home/pages/collect-data/collect-data.vue?84e0","webpack:///C:/Users/window/Desktop/nursing-home/pages/collect-data/collect-data.vue","webpack:///C:/Users/window/Desktop/nursing-home/pages/collect-data/collect-data.vue?741b","webpack:///C:/Users/window/Desktop/nursing-home/pages/collect-data/collect-data.vue?e6ee"],"names":["createPage","Page","data","navTitles","currentIndex","cWidth","cHeight","pixelRatio","patientList","patient","pid","bp_devices","bp_connected","bp_chs","bp_discoveryStarted","bp_canWrite","bp_deviceId","bp_serviceId","bp_characteristicId","bp_list","bp_categories","bo_devices","bo_connected","bo_chs","bo_discoveryStarted","this_week","avg_val_blood","avg_val_time","onLoad","options","fetchPatientInfo","fetchPatientList","methods","bindPickerChange","e","item","id","Number","detail","value","uni","request","url","success","res","switchTab","index","inArray","arr","key","val","i","length","ab2hex","buffer","hexArr","Array","prototype","map","call","Uint8Array","bit","toString","slice","join","bp_openBluetoothAdapter","console","log","openBluetoothAdapter","bp_startBluetoothDevicesDiscovery","fail","errCode","onBluetoothAdapterStateChange","available","startBluetoothDevicesDiscovery","allowDuplicatesKey","bp_onBluetoothDeviceFound","bp_getBluetoothAdapterState","getBluetoothAdapterState","discovering","onBluetoothDeviceFound","devices","name","bp_createBLEConnection","bp_stopBluetoothDevicesDiscovery","stopBluetoothDevicesDiscovery","deviceId","createBLEConnection","bp_getBLEDeviceServices","bp_closeBLEConnection","closeBLEConnection","setData","connected","chs","canWrite","getBLEDeviceServices","services","uuid","bp_getBLEDeviceCharacteristics","serviceId","getBLEDeviceCharacteristics","characteristics","bp_writeBLECharacteristicValue","notifyBLECharacteristicValueChange","characteristicId","state","error","onBLECharacteristicValueChange","characteristic","vale","substr","parseInt","sz","ArrayBuffer","dataView","DataView","setUint8","writeBLECharacteristicValue","bp_closeBluetoothAdapter","closeBluetoothAdapter","getNowTime","now","Date","hour","getHours","minute","getMinutes","second","getSeconds","now_time"],"mappings":"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","file":"pages/collect-data/collect-data.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'\nimport Page from './pages/collect-data/collect-data.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./collect-data.vue?vue&type=template&id=2786e414&\"\nvar renderjs\nimport script from \"./collect-data.vue?vue&type=script&lang=js&\"\nexport * from \"./collect-data.vue?vue&type=script&lang=js&\"\nimport style0 from \"./collect-data.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"C:\\\\lhf\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('2786e414')) {\n      api.createRecord('2786e414', component.options)\n    } else {\n      api.reload('2786e414', component.options)\n    }\n    module.hot.accept(\"./collect-data.vue?vue&type=template&id=2786e414&\", function () {\n      api.rerender('2786e414', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"Users/window/Desktop/nursing-home/pages/collect-data/collect-data.vue\"\nexport default component.exports","export * from \"-!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./collect-data.vue?vue&type=template&id=2786e414&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var m0 = require(\"../../static/images/more.png\")\n\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        m0: m0\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./collect-data.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./collect-data.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport uCharts from '@/components/u-charts/u-charts.js';\n\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\tnavTitles: ['血压', '血氧', '血糖'],\n\t\t\tcurrentIndex: 0,\n\t\t\tcWidth: '',\n\t\t\tcHeight: '',\n\t\t\tpixelRatio: 1,\n\t\t\tpatientList: [],\n\t\t\tpatient: null,\n\t\t\tpid: '',\n\t\t\t// 血压\n\t\t\tbp_devices: [],\n\t\t\tbp_connected: false,\n\t\t\tbp_chs: [],\n\t\t\tbp_discoveryStarted: false,\n\t\t\tbp_canWrite: false,\n\t\t\tbp_deviceId: '',\n\t\t\tbp_serviceId: '',\n\t\t\tbp_characteristicId: '',\n\t\t\tbp_list: [],\n\t\t\tbp_categories: [],\n\t\t\t// 血氧\n\t\t\tbo_devices: [],\n\t\t\tbo_connected: false,\n\t\t\tbo_chs: [],\n\t\t\tbo_discoveryStarted: false,\n\n\t\t\tthis_week: '6月7日-6月13日',\n\t\t\tavg_val_blood: '135/80',\n\t\t\tavg_val_time: 65,\n\t\t};\n\t},\n\tonLoad(options) {\n\t\t// console.log('options',options)\n\t\t// 从客户管理界面进来会传入pid\n\t\tif (options.pid) {\n\t\t\tthis.fetchPatientInfo(options.pid)\n\t\t}\n\t\tthis.fetchPatientList()\n\t},\n\n\tmethods: {\n\t\t// 选择患者\n\t\tbindPickerChange(e) {\n\t\t\t// console.log(e)\n\t\t\tfor (let item of this.patientList) {\n\t\t\t\tif (item.id === Number(e.detail.value) + 1) {\n\t\t\t\t\tthis.fetchPatientInfo(item.id)\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t// 获取患者列表(ID)\n\t\tasync fetchPatientList() {\n\t\t\tawait uni.request({\n\t\t\t\turl: 'https://ciai.le-cx.com/index.php/api/patient/patientList',\n\t\t\t\tsuccess: res => {\n\t\t\t\t\tthis.patientList = res.data.data\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\t// 获取患者信息\n\t\tasync fetchPatientInfo(id) {\n\t\t\tawait uni.request({\n\t\t\t\turl: `https://ciai.le-cx.com/index.php/api/patient/info?id=${id}`,\n\t\t\t\tsuccess: res => {\n\t\t\t\t\tthis.patient = res.data.data\n\t\t\t\t},\n\t\t\t})\n\t\t},\n\t\t// 切换导航tab\n\t\tswitchTab(index) {\n\t\t\tthis.currentIndex = index\n\t\t},\n\n\t\tinArray(arr, key, val) {\n\t\t\tfor (let i = 0; i < arr.length; i++) {\n\t\t\t\tif (arr[i][key] === val) {\n\t\t\t\t\treturn i;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn -1;\n\t\t},\n\n\t\t// ArrayBuffer转16进度字符串示例\n\t\tab2hex(buffer) {\n\t\t\tvar hexArr = Array.prototype.map.call(\n\t\t\t\tnew Uint8Array(buffer),\n\t\t\t\tfunction(bit) {\n\t\t\t\t\treturn ('00' + bit.toString(16)).slice(-2)\n\t\t\t\t}\n\t\t\t)\n\t\t\treturn hexArr.join('');\n\t\t},\n\n\t\tbp_openBluetoothAdapter() {\n\t\t\tconsole.log('初始化蓝牙')\n\t\t\tuni.openBluetoothAdapter({\n\t\t\t\tsuccess: (res) => {\n\t\t\t\t\tconsole.log('openBluetoothAdapter success', res)\n\t\t\t\t\tthis.bp_startBluetoothDevicesDiscovery()\n\t\t\t\t},\n\t\t\t\tfail: (res) => {\n\t\t\t\t\tif (res.errCode === 10001) {\n\t\t\t\t\t\tuni.onBluetoothAdapterStateChange((res) => {\n\t\t\t\t\t\t\t// console.log('onBluetoothAdapterStateChange', res)\n\t\t\t\t\t\t\tif (res.available) {\n\t\t\t\t\t\t\t\tthis.bp_startBluetoothDevicesDiscovery()\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\tbp_startBluetoothDevicesDiscovery() {\n\t\t\tif (this.bp_discoveryStarted) {\n\t\t\t\treturn\n\t\t\t}\n\t\t\tthis.bp_discoveryStarted = true\n\t\t\tuni.startBluetoothDevicesDiscovery({\n\t\t\t\tallowDuplicatesKey: true,\n\t\t\t\tsuccess: (res) => {\n\t\t\t\t\tconsole.log('startBluetoothDevicesDiscovery success', res)\n\t\t\t\t\tthis.bp_onBluetoothDeviceFound()\n\t\t\t\t},\n\t\t\t})\n\t\t},\n\t\tbp_getBluetoothAdapterState() {\n\t\t\tconsole.log('getBluetoothAdapterState')\n\t\t\tuni.getBluetoothAdapterState({\n\t\t\t\tsuccess: (res) => {\n\t\t\t\t\tconsole.log('getBluetoothAdapterState', res)\n\t\t\t\t\tif (res.discovering) {\n\t\t\t\t\t\tthis.bp_onBluetoothDeviceFound()\n\t\t\t\t\t} else if (res.available) {\n\t\t\t\t\t\tthis.bp_startBluetoothDevicesDiscovery()\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\tbp_onBluetoothDeviceFound() {\n\t\t\tuni.onBluetoothDeviceFound((res) => {\n\t\t\t\tvar devices = res.devices\n\t\t\t\tconsole.log('devices', devices)\n\t\t\t\tif (devices[0].name == 'FSRKB_BT_001') {\n\t\t\t\t\tlet e = devices[0]\n\t\t\t\t\tthis.bp_createBLEConnection(e)\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\tbp_stopBluetoothDevicesDiscovery() {\n\t\t\tuni.stopBluetoothDevicesDiscovery()\n\t\t},\n\n\t\tbp_createBLEConnection(e) {\n\t\t\t// const ds = e.currentTarget.dataset\n\t\t\tconst deviceId = e.deviceId\n\t\t\tconst name = e.name\n\t\t\tuni.createBLEConnection({\n\t\t\t\tdeviceId,\n\t\t\t\tsuccess: (res) => {\n\t\t\t\t\tthis.bp_connected = true\n\t\t\t\t\t// this.setData({\n\t\t\t\t\t// \tconnected: true,\n\t\t\t\t\t// \tname,\n\t\t\t\t\t// \tdeviceId,\n\t\t\t\t\t// })\n\t\t\t\t\tthis.bp_getBLEDeviceServices(deviceId)\n\t\t\t\t}\n\t\t\t})\n\t\t\tthis.bp_stopBluetoothDevicesDiscovery()\n\t\t},\n\t\tbp_closeBLEConnection() {\n\t\t\tuni.closeBLEConnection({\n\t\t\t\tdeviceId: this.data.deviceId\n\t\t\t})\n\t\t\tthis.setData({\n\t\t\t\tconnected: false,\n\t\t\t\tchs: [],\n\t\t\t\tcanWrite: false,\n\t\t\t})\n\t\t},\n\t\tbp_getBLEDeviceServices(deviceId) {\n\t\t\tuni.getBLEDeviceServices({\n\t\t\t\tdeviceId,\n\t\t\t\tsuccess: (res) => {\n\t\t\t\t\tfor (let i = 0; i < res.services.length; i++) {\n\t\t\t\t\t\tif (res.services[i].uuid == '0000FFF0-0000-1000-8000-00805F9B34FB') {\n\t\t\t\t\t\t\tthis.bp_getBLEDeviceCharacteristics(deviceId, res.services[i].uuid)\n\t\t\t\t\t\t\treturn\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\tbp_getBLEDeviceCharacteristics(deviceId, serviceId) {\n\t\t\tuni.getBLEDeviceCharacteristics({\n\t\t\t\tdeviceId,\n\t\t\t\tserviceId,\n\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t// console.log('getBLEDeviceCharacteristics success', res.characteristics)\n\t\t\t\t\tfor (let i = 0; i < res.characteristics.length; i++) {\n\t\t\t\t\t\tlet item = res.characteristics[i]\n\t\t\t\t\t\tif (item.uuid == '0000FFF6-0000-1000-8000-00805F9B34FB') {\n\t\t\t\t\t\t\t// this.setData({\n\t\t\t\t\t\t\t// \tbp_canWrite: true\n\t\t\t\t\t\t\t// })\n\t\t\t\t\t\t\tthis.bp_canWrite = true\n\t\t\t\t\t\t\tthis.bp_deviceId = deviceId\n\t\t\t\t\t\t\tthis.bp_serviceId = serviceId\n\t\t\t\t\t\t\tthis.bp_characteristicId = item.uuid\n\t\t\t\t\t\t\tthis.bp_writeBLECharacteristicValue()\n\n\t\t\t\t\t\t\tuni.notifyBLECharacteristicValueChange({\n\t\t\t\t\t\t\t\tdeviceId,\n\t\t\t\t\t\t\t\tserviceId,\n\t\t\t\t\t\t\t\tcharacteristicId: item.uuid,\n\t\t\t\t\t\t\t\tstate: true,\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tfail(res) {\n\t\t\t\t\tconsole.error('getBLEDeviceCharacteristics', res)\n\t\t\t\t}\n\t\t\t})\n\t\t\t// 操作之前先监听，保证第一时间获取数据\n\t\t\tuni.onBLECharacteristicValueChange((characteristic) => {\n\t\t\t\tlet vale = ab2hex(characteristic.value)\n\t\t\t\tif (vale.substr(6, 2) == 'cc') { //判断是否测量结束，结束则进入\n\t\t\t\t\tif (vale.substr(10, 2) == '00') { //判断是否错误，错误则进入\n\t\t\t\t\t\tswitch (parseInt(vale.substr(8, 2), 16)) {\n\t\t\t\t\t\t\tcase 1:\n\t\t\t\t\t\t\t\tconsole.log('传感器异常！')\n\t\t\t\t\t\t\t\tbreak\n\n\t\t\t\t\t\t\tcase 2:\n\t\t\t\t\t\t\t\tconsole.log('不足以检测心跳或血压！')\n\t\t\t\t\t\t\t\tbreak\n\n\t\t\t\t\t\t\tcase 3:\n\t\t\t\t\t\t\t\tconsole.log('异常测量结果！')\n\t\t\t\t\t\t\t\tbreak\n\n\t\t\t\t\t\t\tcase 4:\n\t\t\t\t\t\t\t\tconsole.log('袖口太松或泄漏（10秒压力小于30毫米）')\n\t\t\t\t\t\t\t\tbreak\n\n\t\t\t\t\t\t\tcase 5:\n\t\t\t\t\t\t\t\tconsole.log('气管堵塞')\n\t\t\t\t\t\t\t\tbreak\n\n\t\t\t\t\t\t\tcase 6:\n\t\t\t\t\t\t\t\tconsole.log('压力波动过大')\n\t\t\t\t\t\t\t\tbreak\n\n\t\t\t\t\t\t\tcase 7:\n\t\t\t\t\t\t\t\tconsole.log('压力超过上限')\n\t\t\t\t\t\t\t\tbreak\n\n\t\t\t\t\t\t\tcase 8:\n\t\t\t\t\t\t\t\tconsole.log('请查看标准数据是否异常')\n\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t}\n\t\t\t\t\t} else { //输出测量结果\n\t\t\t\t\t\tconsole.log('高压：', parseInt(vale.substr(8, 2), 16), '低压：', parseInt(vale.substr(10, 2), 16), '心率',\n\t\t\t\t\t\t\tparseInt(\n\t\t\t\t\t\t\t\tvale.substr(12, 2), 16))\n\t\t\t\t\t}\n\t\t\t\t} else { //输出当前压力值\n\t\t\t\t\tconsole.log('当前压力：', parseInt(vale.substr(10, 2), 16))\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\tbp_writeBLECharacteristicValue() {\n\t\t\tlet sz = [0xBE, 0xB0, 0x01, 0xc0, 0x36]\n\t\t\tlet buffer = new ArrayBuffer(5)\n\t\t\tlet dataView = new DataView(buffer)\n\n\t\t\tfor (let i = 0; i < 5; i++) {\n\t\t\t\tdataView.setUint8(i, sz[i])\n\t\t\t}\n\t\t\tconsole.log(buffer)\n\t\t\tuni.writeBLECharacteristicValue({\n\t\t\t\tdeviceId: this.bp_deviceId,\n\t\t\t\tserviceId: this.bp_serviceId,\n\t\t\t\tcharacteristicId: this.bp_characteristicId,\n\t\t\t\tvalue: buffer,\n\t\t\t})\n\t\t},\n\t\tbp_closeBluetoothAdapter() {\n\t\t\tuni.closeBluetoothAdapter()\n\t\t\tthis.bp_discoveryStarted = false\n\t\t},\n\t\t// 获取当前时间\n\t\tgetNowTime() {\n\t\t\tlet now = new Date()\n\t\t\tlet hour = now.getHours()\n\t\t\tlet minute = now.getMinutes()\n\t\t\tlet second = now.getSeconds()\n\t\t\thour = hour < 10 ? '0' + hour : hour\n\t\t\tminute = minute < 10 ? '0' + minute : minute\n\t\t\tsecond = second < 10 ? '0' + second : second\n\t\t\tlet now_time = `${hour}:${minute}:${second}`\n\t\t\treturn now_time\n\t\t},\n\t},\n}\n","import mod from \"-!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-1!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--8-oneOf-1-2!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-4!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./collect-data.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-1!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--8-oneOf-1-2!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-4!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./collect-data.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin"],"sourceRoot":""}