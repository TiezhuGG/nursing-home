{"version":3,"sources":["webpack:///C:/Users/window/Desktop/nursing-home/main.js","webpack:///C:/Users/window/Desktop/nursing-home/pages/workbench/workbench.vue?19e5","webpack:///C:/Users/window/Desktop/nursing-home/pages/workbench/workbench.vue?08e5","webpack:///C:/Users/window/Desktop/nursing-home/pages/workbench/workbench.vue?7f64","webpack:///C:/Users/window/Desktop/nursing-home/pages/workbench/workbench.vue?3f46","webpack:///C:/Users/window/Desktop/nursing-home/pages/workbench/workbench.vue","webpack:///C:/Users/window/Desktop/nursing-home/pages/workbench/workbench.vue?bee8","webpack:///C:/Users/window/Desktop/nursing-home/pages/workbench/workbench.vue?08c0"],"names":["createPage","Page","data","nurseInfo","noticeList","isOpenBle","devicesList","deviceId","serviceId","primaryUUID","characteristicId","writeId","notifyId","pid","bpid","onLoad","uni","removeStorageSync","getStorageSync","fetchNoticeList","onShow","methods","toHeartRate","navigateTo","url","toBloodStatus","initBluetoothAdapter","openBluetoothAdapter","success","e","console","log","errMsg","searchBluetoothDevice","fail","errCode","onBLEConnectionStateChange","setTimeout","startBluetoothDevicesDiscovery","res","findBluetoothDevice","showToast","icon","title","duration","onBluetoothDeviceFound","devices","getBleDevices","getBluetoothDevices","item","getConnectBlue","createBLEConnection","getBLEDeviceServices","stopDiscovery","closeBLEConnection","serviceList","services","JSON","stringify","service","uuid","indexOf","getBLEDeviceCharacteristics","characteristicsList","characteristics","characteristic","properties","notify","write","notifyBLECharacteristicValueChange","state","onBLECharacteristicValueChange","value","ab2hex","stopBluetoothDevicesDiscovery","connected","buffer","hexArr","Array","prototype","map","call","Uint8Array","bit","toString","slice","join","toNotice","notice_id","request"],"mappings":"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","file":"pages/workbench/workbench.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'\nimport Page from './pages/workbench/workbench.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./workbench.vue?vue&type=template&id=6e74ac74&\"\nvar renderjs\nimport script from \"./workbench.vue?vue&type=script&lang=js&\"\nexport * from \"./workbench.vue?vue&type=script&lang=js&\"\nimport style0 from \"./workbench.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"Users/window/Desktop/nursing-home/pages/workbench/workbench.vue\"\nexport default component.exports","export * from \"-!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./workbench.vue?vue&type=template&id=6e74ac74&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./workbench.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./workbench.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\tnurseInfo: {},\n\t\t\tnoticeList: [],\n\t\t\tisOpenBle: false,\n\t\t\tdevicesList: [],\n\t\t\tdeviceId: \"67:95:69:F9:B3:C5\",\n\t\t\tserviceId: '',\n\t\t\tprimaryUUID: '',\n\t\t\tcharacteristicId: {\n\t\t\t\twriteId: '',\n\t\t\t\tnotifyId: ''\n\t\t\t},\n\t\t\tpid: '',\n\t\t\tbpid: '',\n\t\t}\n\t},\n\tonLoad() {\n\t\t// 加载页面时清除pid和bpid\n\t\tuni.removeStorageSync('pid')\n\t\tuni.removeStorageSync('bpid')\n\t\tthis.nurseInfo = uni.getStorageSync('userInfo')\n\t\tthis.fetchNoticeList()\n\t\t//在页面加载时初始化蓝牙适配器\n\t\t// this.initBluetoothAdapter()\n\t},\n\tonShow() {\n\t\t// 心率页面患者id 默认首次为1\n\t\tthis.pid = uni.getStorageSync('pid') ? uni.getStorageSync('pid') : 1\n\t\t// 血状态页面患者id 默认首次为1\n\t\tthis.bpid = uni.getStorageSync('bpid') ? uni.getStorageSync('bpid') : 1\n\t},\n\n\tmethods: {\n\t\t// 跳转心率页面传pid\n\t\ttoHeartRate() {\n\t\t\tuni.navigateTo({\n\t\t\t\turl: `../heart-rate/heart-rate?pid=${this.pid}`\n\t\t\t})\n\t\t},\n\t\t// 跳转血状态页面传bpid\n\t\ttoBloodStatus() {\n\t\t\tuni.navigateTo({\n\t\t\t\turl: `../blood-status/blood-status?bpid=${this.bpid}`\n\t\t\t})\n\t\t},\n\t\t// 初始化蓝牙适配器\n\t\tinitBluetoothAdapter() {\n\t\t\tuni.openBluetoothAdapter({\n\t\t\t\tsuccess: e => {\n\t\t\t\t\tconsole.log('初始化蓝牙成功', e.errMsg)\n\t\t\t\t\tthis.isOpenBle = true;\n\t\t\t\t\t// 初始化完毕后搜索附近蓝牙设备\n\t\t\t\t\tthis.searchBluetoothDevice()\n\t\t\t\t},\n\t\t\t\tfail: e => {\n\t\t\t\t\tconsole.log(`初始化蓝牙失败，错误码: (${e.errCode} || ${e.errMsg})`);\n\t\t\t\t},\n\t\t\t})\n\t\t\t// 同时监听蓝牙连接状态\n\t\t\tthis.onBLEConnectionStateChange()\n\t\t},\n\n\t\t// 搜索附近蓝牙设备\n\t\tsearchBluetoothDevice() {\n\t\t\t// 在页面显示的时候判断是否已经初始化完成蓝牙适配器，若成功，则开始查找设备\n\t\t\tsetTimeout(() => {\n\t\t\t\tif (this.isOpenBle) {\n\t\t\t\t\tconsole.log(\"开始搜索附近蓝牙智能设备\");\n\t\t\t\t\tuni.startBluetoothDevicesDiscovery({\n\t\t\t\t\t\tsuccess: res => {\n\t\t\t\t\t\t\tthis.findBluetoothDevice();\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfail: res => {\n\t\t\t\t\t\t\tconsole.log(\"查找设备失败!\");\n\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\ticon: \"none\",\n\t\t\t\t\t\t\t\ttitle: \"查找设备失败！\",\n\t\t\t\t\t\t\t\tduration: 3000\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tconsole.log(`未初始化蓝牙适配器, isOpenBle:${this.isOpenBle}`);\n\t\t\t\t}\n\t\t\t}, 1000);\n\t\t},\n\n\t\t// 发现蓝牙设备\n\t\tfindBluetoothDevice() {\n\t\t\tconsole.log(\"监听寻找新设备\");\n\t\t\tuni.onBluetoothDeviceFound(devices => {\n\t\t\t\tconsole.log('开始监听寻找到新设备的事件');\n\t\t\t\tthis.getBleDevices();\n\t\t\t});\n\t\t},\n\n\t\t// 获取在蓝牙模块生效期间所有已发现的蓝牙设备。包括已经和本机处于连接状态的设备。\n\t\tgetBleDevices() {\n\t\t\tconsole.log(\"获取蓝牙设备\");\n\t\t\tuni.getBluetoothDevices({\n\t\t\t\tsuccess: res => {\n\t\t\t\t\tconsole.log(res)\n\t\t\t\t\tconsole.log(`获取蓝牙设备成功: ${res.errMsg}`);\n\t\t\t\t\tthis.devicesList = res.devices\n\t\t\t\t\tfor (let item of this.devicesList) {\n\t\t\t\t\t\t// this.deviceId = item.deviceId\n\t\t\t\t\t\t// console.log('item.deviceId == this.deviceId',item.deviceId == this.deviceId)\n\t\t\t\t\t\tconsole.log(item.deviceId)\n\t\t\t\t\t\tif (item.deviceId == this.deviceId) {\n\t\t\t\t\t\t\tconsole.log(`找到蓝牙设备${item.deviceId}，开始连接~~~~~`)\n\t\t\t\t\t\t\t// 进行蓝牙连接\n\t\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t\tthis.getConnectBlue()\n\t\t\t\t\t\t\t}, 1000)\n\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// console.log({\n\t\t\t\t\t\t// \t'index': this.devicesList.indexOf(item), \n\t\t\t\t\t\t// \t'bluetooth': item,\n\t\t\t\t\t\t// \t'deviceId': this.deviceId\n\t\t\t\t\t\t// })\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tfail: res => {\n\t\t\t\t\tconsole.log(`获取蓝牙设备失败: ${res.errMsg}`)\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\t// 进行蓝牙连接\n\t\tgetConnectBlue() {\n\t\t\tconsole.log(`${this.deviceId}蓝牙设备连接中`)\n\t\t\tuni.createBLEConnection({\n\t\t\t\tdeviceId: this.deviceId,\n\t\t\t\tsuccess: res => {\n\t\t\t\t\tconsole.log(`${this.deviceId}蓝牙设备连接成功`)\n\t\t\t\t\t// 成功连接蓝牙设备后获取该设备服务ID\n\t\t\t\t\tthis.getBLEDeviceServices()\n\t\t\t\t\t// 成功连接蓝牙设备后停止搜索\n\t\t\t\t\tthis.stopDiscovery()\n\t\t\t\t},\n\t\t\t\tfail: res => {\n\t\t\t\t\tconsole.log(`蓝牙设备连接失败`, res)\n\t\t\t\t\tuni.closeBLEConnection({\n\t\t\t\t\t\tdeviceId: this.deviceId,\n\t\t\t\t\t\tsuccess: res => {\n\t\t\t\t\t\t\tconsole.log('蓝牙设备连接断开, 正在重新连接')\n\t\t\t\t\t\t\tthis.getConnectBlue()\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\n\t\t// 获取蓝牙设备所有服务\n\t\tgetBLEDeviceServices() {\n\t\t\tconsole.log(`正在获取蓝牙设备所有服务`)\n\t\t\tlet serviceList = []\n\t\t\tuni.getBLEDeviceServices({\n\t\t\t\tdeviceId: this.deviceId,\n\t\t\t\tsuccess: res => {\n\t\t\t\t\tserviceList = res.services\n\t\t\t\t\tconsole.log(`获取蓝牙设备服务成功${JSON.stringify(res.services)}`)\n\t\t\t\t\tfor (let service of serviceList) {\n\t\t\t\t\t\tconsole.log(`service--${service}---serviceId-${service.uuid}`)\n\t\t\t\t\t\tif (service.uuid.indexOf(this.primaryUUID) != -1) {\n\t\t\t\t\t\t\tthis.serviceId = service.uuid\n\t\t\t\t\t\t\tconsole.log(`设备的serviceId${this.serviceId}`)\n\t\t\t\t\t\t\t// 开始获取指定服务的特征值\n\t\t\t\t\t\t\tthis.getBLEDeviceCharacteristics()\n\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tthis.getBLEDeviceCharacteristics()\n\t\t\t\t},\n\t\t\t\tfail: res => {\n\t\t\t\t\tconsole.log('device services:', res.services)\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\n\t\t// 获取指定服务的特征值\n\t\tgetBLEDeviceCharacteristics() {\n\t\t\tconsole.log(`开始获取服务特征值`)\n\t\t\tlet characteristicsList = []\n\t\t\tuni.getBLEDeviceCharacteristics({\n\t\t\t\tdeviceId: this.deviceId,\n\t\t\t\tserviceId: this.serviceId,\n\t\t\t\tsuccess: res => {\n\t\t\t\t\tconsole.log(`获取的${this.serviceId}服务的特征值${JSON.stringify(res.characteristics)}`)\n\t\t\t\t\tcharacteristicsList = res.characteristics\n\t\t\t\t\tfor (let characteristic of characteristicsList) {\n\t\t\t\t\t\tconsole.log(`特征值${JSON.stringify(characteristic)}`)\n\t\t\t\t\t\tif (characteristic.properties.notify) {\n\t\t\t\t\t\t\tthis.characteristicId.notifyId = characteristic.uuid\n\t\t\t\t\t\t\tconsole.log(`notifyId值为：${this.characteristicId.notifyId}`)\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (characteristic.properties.write) {\n\t\t\t\t\t\t\tthis.characteristicId.writeId = characteristic.uuid\n\t\t\t\t\t\t\tconsole.log(`writeId值为：${this.characteristicId.writeId}`)\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t// 订阅特征值\n\t\t\t\t\t// this.notify()\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\n\t\t// 开始订阅特征值\n\t\tnotify() {\n\t\t\tuni.notifyBLECharacteristicValueChange({\n\t\t\t\tstate: true,\n\t\t\t\tdeviceId: this.deviceId,\n\t\t\t\tserviceId: this.serviceId,\n\t\t\t\tcharacteristicId: this.characteristicId.notifyId,\n\t\t\t\tsuccess: res => {\n\t\t\t\t\tconsole.log(`订阅特征值${JSON.stringify(res)}`)\n\t\t\t\t\tuni.onBLECharacteristicValueChange(res => {\n\t\t\t\t\t\tconsole.log(`监听低功耗蓝牙设备的特征值变化事件${JSON.stringify(res)}`)\n\t\t\t\t\t\tconsole.log(`${res.characteristicId}变化, 现在是{$JSON.stringify(res.value)}`)\n\t\t\t\t\t\tlet value = this.ab2hex(res.value)\n\t\t\t\t\t\tconsole.log(`value ---> ${value}`)\n\t\t\t\t\t\t\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\n\t\t// 停止搜索蓝牙设备(连接设备后调用)\n\t\tstopDiscovery() {\n\t\t\tuni.stopBluetoothDevicesDiscovery({\n\t\t\t\tsuccess: e => {\n\t\t\t\t\tconsole.log(`停止搜索蓝牙设备: ${e.errMsg}`);\n\t\t\t\t},\n\t\t\t\tfail: e => {\n\t\t\t\t\tconsole.log(`停止搜索蓝牙设备失败，错误码: ${e.errCode}`);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\t\t// 监听低功耗蓝牙连接状态的改变事件\n\t\tonBLEConnectionStateChange() {\n\t\t\tuni.onBLEConnectionStateChange(res => {\n\t\t\t\tconsole.log(`蓝牙连接状态${JSON.stringify(res)}`)\n\t\t\t\tif (!res.connected) {\n\t\t\t\t\tconsole.log('断开低功耗蓝牙成功~~')\n\t\t\t\t\t// 关闭蓝牙连接\n\t\t\t\t\tuni.closeBLEConnection({\n\t\t\t\t\t\tdeviceId: this.deviceId,\n\t\t\t\t\t\tsuccess: res => {\n\t\t\t\t\t\t\tconsole.log('关闭蓝牙模块')\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\n\t\t// ArrayBuffer转16进度字符串\n\t\tab2hex(buffer) {\n\t\t\tconst hexArr = Array.prototype.map.call(\n\t\t\t\tnew Uint8Array(buffer),\n\t\t\t\tfunction(bit) {\n\t\t\t\t\treturn ('00' + bit.toString(16)).slice(-2)\n\t\t\t\t}\n\t\t\t)\n\t\t\treturn hexArr.join('')\n\t\t},\n\n\n\t\t// 跳转公告信息页\n\t\ttoNotice(notice_id) {\n\t\t\tuni.navigateTo({\n\t\t\t\turl: `../notice/notice?id=${notice_id}`\n\t\t\t})\n\t\t},\n\n\t\t// 获取公告列表\n\t\tfetchNoticeList() {\n\t\t\tuni.request({\n\t\t\t\turl: 'https://ciai.le-cx.com/index.php/api/notice/noticeList',\n\t\t\t\tsuccess: res => {\n\t\t\t\t\t// console.log(res)\n\t\t\t\t\tthis.noticeList = res.data.data\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\t},\n}\n","import mod from \"-!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-1!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-2!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./workbench.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-1!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-2!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./workbench.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1586738437986\n      var cssReload = require(\"C:/lhf/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}