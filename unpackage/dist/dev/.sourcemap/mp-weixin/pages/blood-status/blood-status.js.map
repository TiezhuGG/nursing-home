{"version":3,"sources":["webpack:///C:/Users/window/Desktop/nursing-home/main.js","webpack:///C:/Users/window/Desktop/nursing-home/pages/blood-status/blood-status.vue?e3ae","webpack:///C:/Users/window/Desktop/nursing-home/pages/blood-status/blood-status.vue?b9c7","webpack:///C:/Users/window/Desktop/nursing-home/pages/blood-status/blood-status.vue?b114","webpack:///C:/Users/window/Desktop/nursing-home/pages/blood-status/blood-status.vue?3daa","webpack:///C:/Users/window/Desktop/nursing-home/pages/blood-status/blood-status.vue","webpack:///C:/Users/window/Desktop/nursing-home/pages/blood-status/blood-status.vue?abc8","webpack:///C:/Users/window/Desktop/nursing-home/pages/blood-status/blood-status.vue?0198"],"names":["createPage","Page","_self","canvaLineA","data","navTitles","currentIndex","cWidth","cHeight","pixelRatio","patientList","patient","pid","bp_devices","bp_connected","bp_chs","bp_discoveryStarted","bp_canWrite","bp_deviceId","bp_serviceId","bp_characteristicId","bp_list","bp_categories","bo_devices","bo_connected","bo_chs","bo_discoveryStarted","this_week","avg_val_blood","avg_val_time","onLoad","options","fetchPatientInfo","fetchPatientList","getServerData","uni","upx2px","methods","bindPickerChange","e","item","id","Number","detail","value","request","url","success","res","switchTab","index","canvasId","LineA","categories","series","name","showLineA","fail","tips","lineA","uCharts","$this","type","fontSize","colors","legend","show","dataLabel","dataPointShape","background","animation","xAxis","disableGrid","yAxis","axisLine","gridType","gridColor","dashLength","min","max","format","val","toFixed","width","height","extra","line","touchLineA","showToolTip","category","inArray","arr","key","i","length","ab2hex","buffer","hexArr","Array","prototype","map","call","Uint8Array","bit","toString","slice","join","bp_openBluetoothAdapter","console","log","openBluetoothAdapter","bp_startBluetoothDevicesDiscovery","errCode","onBluetoothAdapterStateChange","available","startBluetoothDevicesDiscovery","allowDuplicatesKey","bp_onBluetoothDeviceFound","bp_getBluetoothAdapterState","getBluetoothAdapterState","discovering","onBluetoothDeviceFound","devices","bp_createBLEConnection","bp_stopBluetoothDevicesDiscovery","stopBluetoothDevicesDiscovery","deviceId","createBLEConnection","bp_getBLEDeviceServices","bp_closeBLEConnection","closeBLEConnection","setData","connected","chs","canWrite","getBLEDeviceServices","services","uuid","bp_getBLEDeviceCharacteristics","serviceId","getBLEDeviceCharacteristics","characteristics","bp_writeBLECharacteristicValue","notifyBLECharacteristicValueChange","characteristicId","state","error","onBLECharacteristicValueChange","characteristic","vale","substr","parseInt","sz","ArrayBuffer","dataView","DataView","setUint8","writeBLECharacteristicValue","bp_closeBluetoothAdapter","closeBluetoothAdapter","getNowTime","now","Date","hour","getHours","minute","getMinutes","second","getSeconds","now_time"],"mappings":";;;;;;;;;;kDAAA,wCAAmB;;AAEnB;AACA,gH;AACAA,UAAU,CAACC,oBAAD,CAAV,C;;;;;;;;;;;;;ACJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAyH;AACzH;AACgE;AACL;AACc;;;AAGzE;AAC6K;AAC7K,gBAAgB,iLAAU;AAC1B,EAAE,kFAAM;AACR,EAAE,uFAAM;AACR,EAAE,gGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,2FAAU;AACZ;AACA;;AAEA;AACA,IAAI,KAAU,EAAE,YAiBf;AACD;AACe,gF;;;;;;;;;;;;AC1Cf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA,WAAW,mBAAO,CAAC,sCAA8B;;AAEjD;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AClBA;AAAA;AAAA;AAAA;AAA2pB,CAAgB,0oBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACqK/qB,wG;AACA,IAAIC,KAAJ;AACA,IAAIC,UAAU,GAAG,IAAjB,C;AACe;AACdC,MADc,kBACP;AACN,WAAO;AACNC,eAAS,EAAE,CAAC,IAAD,EAAO,IAAP,EAAa,IAAb,CADL;AAENC,kBAAY,EAAE,CAFR;AAGNC,YAAM,EAAE,EAHF;AAINC,aAAO,EAAE,EAJH;AAKNC,gBAAU,EAAE,CALN;AAMNC,iBAAW,EAAE,EANP;AAONC,aAAO,EAAE,IAPH;AAQNC,SAAG,EAAE,EARC;AASN;AACAC,gBAAU,EAAE,EAVN;AAWNC,kBAAY,EAAE,KAXR;AAYNC,YAAM,EAAE,EAZF;AAaNC,yBAAmB,EAAE,KAbf;AAcNC,iBAAW,EAAE,KAdP;AAeNC,iBAAW,EAAE,EAfP;AAgBNC,kBAAY,EAAE,EAhBR;AAiBNC,yBAAmB,EAAE,EAjBf;AAkBNC,aAAO,EAAE,EAlBH;AAmBNC,mBAAa,EAAE,EAnBT;AAoBN;AACAC,gBAAU,EAAE,EArBN;AAsBNC,kBAAY,EAAE,KAtBR;AAuBNC,YAAM,EAAE,EAvBF;AAwBNC,yBAAmB,EAAE,KAxBf;;AA0BNC,eAAS,EAAE,YA1BL;AA2BNC,mBAAa,EAAE,QA3BT;AA4BNC,kBAAY,EAAE,EA5BR,EAAP;;AA8BA,GAhCa;AAiCdC,QAjCc,kBAiCPC,OAjCO,EAiCE;AACf;AACA;AACA,QAAGA,OAAO,CAACnB,GAAX,EAAgB;AACf,WAAKoB,gBAAL,CAAsBD,OAAO,CAACnB,GAA9B;AACA;AACDV,SAAK,GAAG,IAAR;AACAA,SAAK,CAAC+B,gBAAN;AACA;AACA,SAAKC,aAAL,CAAmB,CAAnB;AACA,SAAK3B,MAAL,GAAc4B,GAAG,CAACC,MAAJ,CAAW,GAAX,CAAd;AACA,SAAK5B,OAAL,GAAe2B,GAAG,CAACC,MAAJ,CAAW,GAAX,CAAf;AACA,GA7Ca;;AA+Cd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEAC,SAAO,EAAE;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEAC,oBA9BQ,4BA8BSC,CA9BT,EA8BY;AACnB;AADmB,6GAEnB,qBAAiB,KAAK7B,WAAtB,8HAAmC,KAA1B8B,IAA0B;AAClC,cAAIA,IAAI,CAACC,EAAL,KAAYC,MAAM,CAACH,CAAC,CAACI,MAAF,CAASC,KAAV,CAAN,GAAyB,CAAzC,EAA4C;AAC3C,iBAAKZ,gBAAL,CAAsBQ,IAAI,CAACC,EAA3B;AACA;AACA;AACD,SAPkB;AAQnB,KAtCO;AAuCR;AACMR,oBAxCE;AAyCDE,qBAAG,CAACU,OAAJ,CAAY;AACjBC,uBAAG,EAAE,0DADY;AAEjBC,2BAAO,EAAE,iBAAAC,GAAG,EAAI;AACf,2BAAI,CAACtC,WAAL,GAAmBsC,GAAG,CAAC5C,IAAJ,CAASA,IAA5B;AACA,qBAJgB,EAAZ,CAzCC;;;AAgDR;AACM4B,oBAjDE,mHAiDeS,EAjDf;AAkDDN,qBAAG,CAACU,OAAJ,CAAY;AACjBC,uBAAG,iEAA0DL,EAA1D,CADc;AAEjBM,2BAAO,EAAE,iBAAAC,GAAG,EAAI;AACf,4BAAI,CAACrC,OAAL,GAAeqC,GAAG,CAAC5C,IAAJ,CAASA,IAAxB;AACA,qBAJgB,EAAZ,CAlDC;;;AAyDR;AACA6C,aA1DQ,qBA0DEC,KA1DF,EA0DS;AAChB,WAAK5C,YAAL,GAAoB4C,KAApB;AACA,WAAKhB,aAAL,CAAmB,KAAK5B,YAAL,GAAoB,CAAvC;AACA,KA7DO;;AA+DR4B,iBA/DQ,yBA+DMiB,QA/DN,EA+DgB;AACvBhB,SAAG,CAACU,OAAJ,CAAY;AACXC,WAAG,EAAE,kCADM;AAEX1C,YAAI,EAAE,EAFK;AAGX2C,eAAO,EAAE,iBAASC,GAAT,EAAc;AACtB;AACA,cAAII,KAAK,GAAG;AACXC,sBAAU,EAAE,EADD;AAEXC,kBAAM,EAAE,EAFG,EAAZ;;AAIA;AACAF,eAAK,CAACC,UAAN,GAAmBL,GAAG,CAAC5C,IAAJ,CAASA,IAAT,CAAcgD,KAAd,CAAoBC,UAAvC;AACA;AACA;AACA;AACA;AACAD,eAAK,CAACE,MAAN,GAAe,CAAC;AACflD,gBAAI,EAAE,CAAC,CAAD,EAAI,GAAJ,EAAS,EAAT,EAAa,EAAb,EAAiB,GAAjB,EAAsB,EAAtB,CADS;AAEfmD,gBAAI,EAAE,IAFS,EAAD,CAAf;;AAIArD,eAAK,CAACsD,SAAN,CAAgBL,QAAhB,EAA0BC,KAA1B;AACA,SApBU;AAqBXK,YAAI,EAAE,gBAAM;AACXvD,eAAK,CAACwD,IAAN,GAAa,kBAAb;AACA,SAvBU,EAAZ;;AAyBA,KAzFO;;AA2FRF,aA3FQ,qBA2FEL,QA3FF,EA2FWQ,KA3FX,EA2FkB;AACzBxD,gBAAU,GAAG,IAAIyD,gBAAJ,CAAY;AACxBC,aAAK,EAAE3D,KADiB;AAExBiD,gBAAQ,EAAEA,QAFc;AAGxBW,YAAI,EAAE,MAHkB;AAIxBC,gBAAQ,EAAE,EAJc;AAKxBC,cAAM,EAAE,CAAC,SAAD,CALgB;AAMxBC,cAAM,EAAE;AACPC,cAAI,EAAE,IADC,EANgB;;AASxBC,iBAAS,EAAE,KATa;AAUxBC,sBAAc,EAAE,IAVQ;AAWxBC,kBAAU,EAAE,SAXY;AAYxB5D,kBAAU,EAAEP,KAAK,CAACO,UAZM;AAaxB4C,kBAAU,EAAEM,KAAK,CAACN,UAbM;AAcxBC,cAAM,EAAEK,KAAK,CAACL,MAdU;AAexBgB,iBAAS,EAAE,KAfa;AAgBxBC,aAAK,EAAE;AACNC,qBAAW,EAAE,IADP,EAhBiB;;AAmBxBC,aAAK,EAAE;AACNrE,cAAI,EAAE,CAAC;AACNsE,oBAAQ,EAAE,KADJ,EAAD,CADA;;AAINC,kBAAQ,EAAE,MAJJ;AAKNC,mBAAS,EAAE,MALL;AAMNC,oBAAU,EAAE,CANN;AAONC,aAAG,EAAE,IAPC;AAQNC,aAAG,EAAE,MARC;AASNC,gBAAM,EAAE,gBAACC,GAAD,EAAS;AAChB,mBAAOA,GAAG,CAACC,OAAJ,CAAY,IAAZ,CAAP;AACA,WAXK,EAnBiB;;AAgCxBC,aAAK,EAAEjF,KAAK,CAACK,MAAN,GAAeL,KAAK,CAACO,UAhCJ;AAiCxB2E,cAAM,EAAElF,KAAK,CAACM,OAAN,GAAgBN,KAAK,CAACO,UAjCN;AAkCxB4E,aAAK,EAAE;AACNC,cAAI,EAAE;AACLxB,gBAAI,EAAE,OADD,EADA,EAlCiB,EAAZ,CAAb;;;;AAwCA,KApIO;;AAsIRyB,cAtIQ,sBAsIGhD,CAtIH,EAsIM;AACbpC,gBAAU,CAACqF,WAAX,CAAuBjD,CAAvB,EAA0B;AACzByC,cAAM,EAAE,gBAASxC,IAAT,EAAeiD,QAAf,EAAyB;AAChC,iBAAOA,QAAQ,GAAG,GAAX,GAAiBjD,IAAI,CAACe,IAAtB,GAA6B,GAA7B,GAAmCf,IAAI,CAACpC,IAA/C;AACA,SAHwB,EAA1B;;AAKA,KA5IO;AA6IRsF,WA7IQ,mBA6IAC,GA7IA,EA6IKC,GA7IL,EA6IUX,GA7IV,EA6Ie;AACtB,WAAK,IAAIY,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGF,GAAG,CAACG,MAAxB,EAAgCD,CAAC,EAAjC,EAAqC;AACpC,YAAIF,GAAG,CAACE,CAAD,CAAH,CAAOD,GAAP,MAAgBX,GAApB,EAAyB;AACxB,iBAAOY,CAAP;AACA;AACD;AACD,aAAO,CAAC,CAAR;AACA,KApJO;;AAsJR;AACAE,UAvJQ,kBAuJDC,MAvJC,EAuJO;AACd,UAAIC,MAAM,GAAGC,KAAK,CAACC,SAAN,CAAgBC,GAAhB,CAAoBC,IAApB;AACZ,UAAIC,UAAJ,CAAeN,MAAf,CADY;AAEZ,gBAASO,GAAT,EAAc;AACb,eAAO,CAAC,OAAOA,GAAG,CAACC,QAAJ,CAAa,EAAb,CAAR,EAA0BC,KAA1B,CAAgC,CAAC,CAAjC,CAAP;AACA,OAJW,CAAb;;AAMA,aAAOR,MAAM,CAACS,IAAP,CAAY,EAAZ,CAAP;AACA,KA/JO;;AAiKRC,2BAjKQ,qCAiKkB;AACzBC,aAAO,CAACC,GAAR,CAAY,QAAZ;AACA1E,SAAG,CAAC2E,oBAAJ,CAAyB;AACxB/D,eAAO,EAAE,iBAACC,GAAD,EAAS;AACjB4D,iBAAO,CAACC,GAAR,CAAY,8BAAZ,EAA4C7D,GAA5C;AACA,gBAAI,CAAC+D,iCAAL;AACA,SAJuB;AAKxBtD,YAAI,EAAE,cAACT,GAAD,EAAS;AACd,cAAIA,GAAG,CAACgE,OAAJ,KAAgB,KAApB,EAA2B;AAC1B7E,eAAG,CAAC8E,6BAAJ,CAAkC,UAACjE,GAAD,EAAS;AAC1C;AACA,kBAAIA,GAAG,CAACkE,SAAR,EAAmB;AAClB,sBAAI,CAACH,iCAAL;AACA;AACD,aALD;AAMA;AACD,SAduB,EAAzB;;AAgBA,KAnLO;AAoLRA,qCApLQ,+CAoL4B;AACnC,UAAI,KAAK/F,mBAAT,EAA8B;AAC7B;AACA;AACD,WAAKA,mBAAL,GAA2B,IAA3B;AACAmB,SAAG,CAACgF,8BAAJ,CAAmC;AAClCC,0BAAkB,EAAE,IADc;AAElCrE,eAAO,EAAE,iBAACC,GAAD,EAAS;AACjB4D,iBAAO,CAACC,GAAR,CAAY,wCAAZ,EAAsD7D,GAAtD;AACA,gBAAI,CAACqE,yBAAL;AACA,SALiC,EAAnC;;AAOA,KAhMO;AAiMRC,+BAjMQ,yCAiMsB;AAC7BV,aAAO,CAACC,GAAR,CAAY,0BAAZ;AACA1E,SAAG,CAACoF,wBAAJ,CAA6B;AAC5BxE,eAAO,EAAE,iBAACC,GAAD,EAAS;AACjB4D,iBAAO,CAACC,GAAR,CAAY,0BAAZ,EAAwC7D,GAAxC;AACA,cAAIA,GAAG,CAACwE,WAAR,EAAqB;AACpB,kBAAI,CAACH,yBAAL;AACA,WAFD,MAEO,IAAIrE,GAAG,CAACkE,SAAR,EAAmB;AACzB,kBAAI,CAACH,iCAAL;AACA;AACD,SAR2B,EAA7B;;AAUA,KA7MO;AA8MRM,6BA9MQ,uCA8MoB;AAC3BlF,SAAG,CAACsF,sBAAJ,CAA2B,UAACzE,GAAD,EAAS;AACnC,YAAI0E,OAAO,GAAG1E,GAAG,CAAC0E,OAAlB;AACAd,eAAO,CAACC,GAAR,CAAY,SAAZ,EAAuBa,OAAvB;AACA,YAAIA,OAAO,CAAC,CAAD,CAAP,CAAWnE,IAAX,IAAmB,cAAvB,EAAuC;AACtC,cAAIhB,CAAC,GAAGmF,OAAO,CAAC,CAAD,CAAf;AACA,gBAAI,CAACC,sBAAL,CAA4BpF,CAA5B;AACA;AACD,OAPD;AAQA,KAvNO;AAwNRqF,oCAxNQ,8CAwN2B;AAClCzF,SAAG,CAAC0F,6BAAJ;AACA,KA1NO;;AA4NRF,0BA5NQ,kCA4NepF,CA5Nf,EA4NkB;AACzB;AACA,UAAMuF,QAAQ,GAAGvF,CAAC,CAACuF,QAAnB;AACA,UAAMvE,IAAI,GAAGhB,CAAC,CAACgB,IAAf;AACApB,SAAG,CAAC4F,mBAAJ,CAAwB;AACvBD,gBAAQ,EAARA,QADuB;AAEvB/E,eAAO,EAAE,iBAACC,GAAD,EAAS;AACjB,gBAAI,CAAClC,YAAL,GAAoB,IAApB;AACA;AACA;AACA;AACA;AACA;AACA,gBAAI,CAACkH,uBAAL,CAA6BF,QAA7B;AACA,SAVsB,EAAxB;;AAYA,WAAKF,gCAAL;AACA,KA7OO;AA8ORK,yBA9OQ,mCA8OgB;AACvB9F,SAAG,CAAC+F,kBAAJ,CAAuB;AACtBJ,gBAAQ,EAAE,KAAK1H,IAAL,CAAU0H,QADE,EAAvB;;AAGA,WAAKK,OAAL,CAAa;AACZC,iBAAS,EAAE,KADC;AAEZC,WAAG,EAAE,EAFO;AAGZC,gBAAQ,EAAE,KAHE,EAAb;;AAKA,KAvPO;AAwPRN,2BAxPQ,mCAwPgBF,QAxPhB,EAwP0B;AACjC3F,SAAG,CAACoG,oBAAJ,CAAyB;AACxBT,gBAAQ,EAARA,QADwB;AAExB/E,eAAO,EAAE,iBAACC,GAAD,EAAS;AACjB,eAAK,IAAI6C,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG7C,GAAG,CAACwF,QAAJ,CAAa1C,MAAjC,EAAyCD,CAAC,EAA1C,EAA8C;AAC7C,gBAAI7C,GAAG,CAACwF,QAAJ,CAAa3C,CAAb,EAAgB4C,IAAhB,IAAwB,sCAA5B,EAAoE;AACnE,oBAAI,CAACC,8BAAL,CAAoCZ,QAApC,EAA8C9E,GAAG,CAACwF,QAAJ,CAAa3C,CAAb,EAAgB4C,IAA9D;AACA;AACA;AACD;AACD,SATuB,EAAzB;;AAWA,KApQO;AAqQRC,kCArQQ,0CAqQuBZ,QArQvB,EAqQiCa,SArQjC,EAqQ4C;AACnDxG,SAAG,CAACyG,2BAAJ,CAAgC;AAC/Bd,gBAAQ,EAARA,QAD+B;AAE/Ba,iBAAS,EAATA,SAF+B;AAG/B5F,eAAO,EAAE,iBAACC,GAAD,EAAS;AACjB;AACA,eAAK,IAAI6C,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG7C,GAAG,CAAC6F,eAAJ,CAAoB/C,MAAxC,EAAgDD,CAAC,EAAjD,EAAqD;AACpD,gBAAIrD,IAAI,GAAGQ,GAAG,CAAC6F,eAAJ,CAAoBhD,CAApB,CAAX;AACA,gBAAIrD,IAAI,CAACiG,IAAL,IAAa,sCAAjB,EAAyD;AACxD;AACA;AACA;AACA,oBAAI,CAACxH,WAAL,GAAmB,IAAnB;AACA,oBAAI,CAACC,WAAL,GAAmB4G,QAAnB;AACA,oBAAI,CAAC3G,YAAL,GAAoBwH,SAApB;AACA,oBAAI,CAACvH,mBAAL,GAA2BoB,IAAI,CAACiG,IAAhC;AACA,oBAAI,CAACK,8BAAL;;AAEA3G,iBAAG,CAAC4G,kCAAJ,CAAuC;AACtCjB,wBAAQ,EAARA,QADsC;AAEtCa,yBAAS,EAATA,SAFsC;AAGtCK,gCAAgB,EAAExG,IAAI,CAACiG,IAHe;AAItCQ,qBAAK,EAAE,IAJ+B,EAAvC;;AAMA;AACD;AACD,SAzB8B;AA0B/BxF,YA1B+B,gBA0B1BT,GA1B0B,EA0BrB;AACT4D,iBAAO,CAACsC,KAAR,CAAc,6BAAd,EAA6ClG,GAA7C;AACA,SA5B8B,EAAhC;;AA8BA;AACAb,SAAG,CAACgH,8BAAJ,CAAmC,UAACC,cAAD,EAAoB;AACtD,YAAIC,IAAI,GAAGtD,MAAM,CAACqD,cAAc,CAACxG,KAAhB,CAAjB;AACA,YAAIyG,IAAI,CAACC,MAAL,CAAY,CAAZ,EAAe,CAAf,KAAqB,IAAzB,EAA+B,CAAE;AAChC,cAAID,IAAI,CAACC,MAAL,CAAY,EAAZ,EAAgB,CAAhB,KAAsB,IAA1B,EAAgC,CAAE;AACjC,oBAAQC,QAAQ,CAACF,IAAI,CAACC,MAAL,CAAY,CAAZ,EAAe,CAAf,CAAD,EAAoB,EAApB,CAAhB;AACC,mBAAK,CAAL;AACC1C,uBAAO,CAACC,GAAR,CAAY,QAAZ;AACA;;AAED,mBAAK,CAAL;AACCD,uBAAO,CAACC,GAAR,CAAY,aAAZ;AACA;;AAED,mBAAK,CAAL;AACCD,uBAAO,CAACC,GAAR,CAAY,SAAZ;AACA;;AAED,mBAAK,CAAL;AACCD,uBAAO,CAACC,GAAR,CAAY,sBAAZ;AACA;;AAED,mBAAK,CAAL;AACCD,uBAAO,CAACC,GAAR,CAAY,MAAZ;AACA;;AAED,mBAAK,CAAL;AACCD,uBAAO,CAACC,GAAR,CAAY,QAAZ;AACA;;AAED,mBAAK,CAAL;AACCD,uBAAO,CAACC,GAAR,CAAY,QAAZ;AACA;;AAED,mBAAK,CAAL;AACCD,uBAAO,CAACC,GAAR,CAAY,aAAZ;AACA,sBA/BF;;AAiCA,WAlCD,MAkCO,CAAE;AACRD,mBAAO,CAACC,GAAR,CAAY,KAAZ,EAAmB0C,QAAQ,CAACF,IAAI,CAACC,MAAL,CAAY,CAAZ,EAAe,CAAf,CAAD,EAAoB,EAApB,CAA3B,EAAoD,KAApD,EAA2DC,QAAQ,CAACF,IAAI,CAACC,MAAL,CAAY,EAAZ,EAAgB,CAAhB,CAAD,EAAqB,EAArB,CAAnE,EAA6F,IAA7F;AACCC,oBAAQ;AACPF,gBAAI,CAACC,MAAL,CAAY,EAAZ,EAAgB,CAAhB,CADO,EACa,EADb,CADT;AAGA;AACD,SAxCD,MAwCO,CAAE;AACR1C,iBAAO,CAACC,GAAR,CAAY,OAAZ,EAAqB0C,QAAQ,CAACF,IAAI,CAACC,MAAL,CAAY,EAAZ,EAAgB,CAAhB,CAAD,EAAqB,EAArB,CAA7B;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACC;AACD,OA9DD;AA+DA,KApWO;AAqWRR,kCArWQ,4CAqWyB;AAChC,UAAIU,EAAE,GAAG,CAAC,IAAD,EAAO,IAAP,EAAa,IAAb,EAAmB,IAAnB,EAAyB,IAAzB,CAAT;AACA,UAAIxD,MAAM,GAAG,IAAIyD,WAAJ,CAAgB,CAAhB,CAAb;AACA,UAAIC,QAAQ,GAAG,IAAIC,QAAJ,CAAa3D,MAAb,CAAf;;AAEA,WAAK,IAAIH,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,CAApB,EAAuBA,CAAC,EAAxB,EAA4B;AAC3B6D,gBAAQ,CAACE,QAAT,CAAkB/D,CAAlB,EAAqB2D,EAAE,CAAC3D,CAAD,CAAvB;AACA;AACDe,aAAO,CAACC,GAAR,CAAYb,MAAZ;AACA7D,SAAG,CAAC0H,2BAAJ,CAAgC;AAC/B/B,gBAAQ,EAAE,KAAK5G,WADgB;AAE/ByH,iBAAS,EAAE,KAAKxH,YAFe;AAG/B6H,wBAAgB,EAAE,KAAK5H,mBAHQ;AAI/BwB,aAAK,EAAEoD,MAJwB,EAAhC;;AAMA,KApXO;AAqXR8D,4BArXQ,sCAqXmB;AAC1B3H,SAAG,CAAC4H,qBAAJ;AACA,WAAK/I,mBAAL,GAA2B,KAA3B;AACA,KAxXO;AAyXR;AACAgJ,cA1XQ,wBA0XK;AACZ,UAAIC,GAAG,GAAG,IAAIC,IAAJ,EAAV;AACA,UAAIC,IAAI,GAAGF,GAAG,CAACG,QAAJ,EAAX;AACA,UAAIC,MAAM,GAAGJ,GAAG,CAACK,UAAJ,EAAb;AACA,UAAIC,MAAM,GAAGN,GAAG,CAACO,UAAJ,EAAb;AACAL,UAAI,GAAGA,IAAI,GAAG,EAAP,GAAY,MAAMA,IAAlB,GAAyBA,IAAhC;AACAE,YAAM,GAAGA,MAAM,GAAG,EAAT,GAAc,MAAMA,MAApB,GAA6BA,MAAtC;AACAE,YAAM,GAAGA,MAAM,GAAG,EAAT,GAAc,MAAMA,MAApB,GAA6BA,MAAtC;AACA,UAAIE,QAAQ,aAAMN,IAAN,cAAcE,MAAd,cAAwBE,MAAxB,CAAZ;AACA,aAAOE,QAAP;AACA,KApYO,EAnEK,E;;;;;;;;;;;;;ACxKf;AAAA;AAAA;AAAA;AAAusC,CAAgB,mmCAAG,EAAC,C;;;;;;;;;;;ACA3tC,uC","file":"pages/blood-status/blood-status.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'\nimport Page from './pages/blood-status/blood-status.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./blood-status.vue?vue&type=template&id=54a461d8&\"\nvar renderjs\nimport script from \"./blood-status.vue?vue&type=script&lang=js&\"\nexport * from \"./blood-status.vue?vue&type=script&lang=js&\"\nimport style0 from \"./blood-status.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"C:\\\\lhf\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('54a461d8')) {\n      api.createRecord('54a461d8', component.options)\n    } else {\n      api.reload('54a461d8', component.options)\n    }\n    module.hot.accept(\"./blood-status.vue?vue&type=template&id=54a461d8&\", function () {\n      api.rerender('54a461d8', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"Users/window/Desktop/nursing-home/pages/blood-status/blood-status.vue\"\nexport default component.exports","export * from \"-!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./blood-status.vue?vue&type=template&id=54a461d8&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var m0 = require(\"../../static/images/more.png\")\n\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        m0: m0\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./blood-status.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./blood-status.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport uCharts from '@/components/u-charts/u-charts.js';\nvar _self;\nvar canvaLineA = null;\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\tnavTitles: ['血压', '血氧', '血糖'],\n\t\t\tcurrentIndex: 0,\n\t\t\tcWidth: '',\n\t\t\tcHeight: '',\n\t\t\tpixelRatio: 1,\n\t\t\tpatientList: [],\n\t\t\tpatient: null,\n\t\t\tpid: '',\n\t\t\t// 血压\n\t\t\tbp_devices: [],\n\t\t\tbp_connected: false,\n\t\t\tbp_chs: [],\n\t\t\tbp_discoveryStarted: false,\n\t\t\tbp_canWrite: false,\n\t\t\tbp_deviceId: '',\n\t\t\tbp_serviceId: '',\n\t\t\tbp_characteristicId: '',\n\t\t\tbp_list: [],\n\t\t\tbp_categories: [],\n\t\t\t// 血氧\n\t\t\tbo_devices: [],\n\t\t\tbo_connected: false,\n\t\t\tbo_chs: [],\n\t\t\tbo_discoveryStarted: false,\n\n\t\t\tthis_week: '6月7日-6月13日',\n\t\t\tavg_val_blood: '135/80',\n\t\t\tavg_val_time: 65,\n\t\t};\n\t},\n\tonLoad(options) {\n\t\t// console.log('options',options)\n\t\t// 从客户管理界面进来会传入pid\n\t\tif(options.pid) {\n\t\t\tthis.fetchPatientInfo(options.pid)\n\t\t}\n\t\t_self = this;\n\t\t_self.fetchPatientList()\n\t\t// 加载页面渲染血压的图表信息\n\t\tthis.getServerData(1);\n\t\tthis.cWidth = uni.upx2px(750);\n\t\tthis.cHeight = uni.upx2px(500);\n\t},\n\n\t// watch: {\n\t// \tpatient(newVal, oldVal) {\n\t// \t\t// console.log(newVal)\n\t// \t\t// console.log(oldVal)\n\t// \t\t// 切换病人时清空图表数据（重新渲染图表）\n\t// \t\tthis.bp_list = []\n\t// \t\tthis.bp_categories = []\n\t// \t\tif (oldVal != null) {\n\t// \t\t\tcanvaLineA.updateData({\n\t// \t\t\t\tcategories: this.bp_categories,\n\t// \t\t\t\tseries: [{\n\t// \t\t\t\t\tname: '实时心率',\n\t// \t\t\t\t\tdata: this.bp_list\n\t// \t\t\t\t}],\n\t// \t\t\t})\n\t// \t\t}\n\t// \t},\n\t// \tdeep: true\n\t// },\n\n\tmethods: {\n\t\t// test() {\n\t\t// \tconsole.log('test')\n\t\t// \tsetInterval(() => {\n\t\t// \t\tlet randomData = Math.random() * 300\n\t\t// \t\tlet timer = Math.random() * 300\n\t\t// \t\tthis.bp_list.push(randomData)\n\t\t// \t\tthis.bp_categories.push(timer)\n\t\t// \t\tconsole.log('randomData',randomData)\n\t\t// \t\tconsole.log('timer',timer)\n\t\t// \t\tconsole.log('bp_list', this.bp_list)\n\t\t// \t\tconsole.log('bp_categories',this.bp_categories)\n\t\t// \t\t// console.log(this.bp_list)\n\t\t// \t\tif (this.bp_list.length > 7) {\n\t\t// \t\t\tthis.bp_list.shift()\n\t\t// \t\t\tthis.bp_categories.shift()\n\t\t// \t\t}\n\t\t// \t\t// 初始化图表实例\n\t\t// \t\t_self.showLineA(\"mycharts\")\n\t\t// \t\t// updateData更新图表\n\t\t// \t\tcanvaLineA.updateData({\n\t\t// \t\t\tcategories: this.bp_categories,\n\t\t// \t\t\tseries: [{\n\t\t// \t\t\t\tname: '实时心率',\n\t\t// \t\t\t\tdata: _self.bp_list\n\t\t// \t\t\t}],\n\t\t// \t\t})\n\t\t// \t}, 1500)\n\t\t// },\n\n\t\tbindPickerChange(e) {\n\t\t\t// console.log(e)\n\t\t\tfor (let item of this.patientList) {\n\t\t\t\tif (item.id === Number(e.detail.value) + 1) {\n\t\t\t\t\tthis.fetchPatientInfo(item.id)\n\t\t\t\t\t// this.test()\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t// 获取患者列表(ID)\n\t\tasync fetchPatientList() {\n\t\t\tawait uni.request({\n\t\t\t\turl: 'https://ciai.le-cx.com/index.php/api/patient/patientList',\n\t\t\t\tsuccess: res => {\n\t\t\t\t\tthis.patientList = res.data.data\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\t// 获取患者信息\n\t\tasync fetchPatientInfo(id) {\n\t\t\tawait uni.request({\n\t\t\t\turl: `https://ciai.le-cx.com/index.php/api/patient/info?id=${id}`,\n\t\t\t\tsuccess: res => {\n\t\t\t\t\tthis.patient = res.data.data\n\t\t\t\t},\n\t\t\t})\n\t\t},\n\t\t// 切换导航tab\n\t\tswitchTab(index) {\n\t\t\tthis.currentIndex = index\n\t\t\tthis.getServerData(this.currentIndex + 1)\n\t\t},\n\n\t\tgetServerData(canvasId) {\n\t\t\tuni.request({\n\t\t\t\turl: 'https://www.ucharts.cn/data.json',\n\t\t\t\tdata: {},\n\t\t\t\tsuccess: function(res) {\n\t\t\t\t\t// console.log(res.data.data)\n\t\t\t\t\tlet LineA = {\n\t\t\t\t\t\tcategories: [],\n\t\t\t\t\t\tseries: []\n\t\t\t\t\t};\n\t\t\t\t\t//这里我后台返回的是数组，所以用等于，如果您后台返回的是单条数据，需要push进去\n\t\t\t\t\tLineA.categories = res.data.data.LineA.categories;\n\t\t\t\t\t// LineA.series = res.data.data.LineA.series;\n\t\t\t\t\t// LineA.series = res.data.data.LineA.series;\n\t\t\t\t\t// LineA.series = [LineA.series.pop()];\n\t\t\t\t\t// console.log(LineA.series)\n\t\t\t\t\tLineA.series = [{\n\t\t\t\t\t\tdata: [0, 100, 70, 20, 100, 50],\n\t\t\t\t\t\tname: 'aa'\n\t\t\t\t\t}]\n\t\t\t\t\t_self.showLineA(canvasId, LineA);\n\t\t\t\t},\n\t\t\t\tfail: () => {\n\t\t\t\t\t_self.tips = \"网络错误，小程序端请检查合法域名\";\n\t\t\t\t},\n\t\t\t});\n\t\t},\n\t\t\n\t\tshowLineA(canvasId,lineA) {\n\t\t\tcanvaLineA = new uCharts({\n\t\t\t\t$this: _self,\n\t\t\t\tcanvasId: canvasId,\n\t\t\t\ttype: 'line',\n\t\t\t\tfontSize: 11,\n\t\t\t\tcolors: ['#24C789'],\n\t\t\t\tlegend: {\n\t\t\t\t\tshow: true\n\t\t\t\t},\n\t\t\t\tdataLabel: false,\n\t\t\t\tdataPointShape: true,\n\t\t\t\tbackground: '#FFFFFF',\n\t\t\t\tpixelRatio: _self.pixelRatio,\n\t\t\t\tcategories: lineA.categories,\n\t\t\t\tseries: lineA.series,\n\t\t\t\tanimation: false,\n\t\t\t\txAxis: {\n\t\t\t\t\tdisableGrid: true\n\t\t\t\t},\n\t\t\t\tyAxis: {\n\t\t\t\t\tdata: [{\n\t\t\t\t\t\taxisLine: false,\n\t\t\t\t\t}],\n\t\t\t\t\tgridType: 'dash',\n\t\t\t\t\tgridColor: '#CCC',\n\t\t\t\t\tdashLength: 2,\n\t\t\t\t\tmin: 0.00,\n\t\t\t\t\tmax: 150.00,\n\t\t\t\t\tformat: (val) => {\n\t\t\t\t\t\treturn val.toFixed(0.00)\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\twidth: _self.cWidth * _self.pixelRatio,\n\t\t\t\theight: _self.cHeight * _self.pixelRatio,\n\t\t\t\textra: {\n\t\t\t\t\tline: {\n\t\t\t\t\t\ttype: 'curve'\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t\n\t\ttouchLineA(e) {\n\t\t\tcanvaLineA.showToolTip(e, {\n\t\t\t\tformat: function(item, category) {\n\t\t\t\t\treturn category + ' ' + item.name + ':' + item.data\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tinArray(arr, key, val) {\n\t\t\tfor (let i = 0; i < arr.length; i++) {\n\t\t\t\tif (arr[i][key] === val) {\n\t\t\t\t\treturn i;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn -1;\n\t\t},\n\n\t\t// ArrayBuffer转16进度字符串示例\n\t\tab2hex(buffer) {\n\t\t\tvar hexArr = Array.prototype.map.call(\n\t\t\t\tnew Uint8Array(buffer),\n\t\t\t\tfunction(bit) {\n\t\t\t\t\treturn ('00' + bit.toString(16)).slice(-2)\n\t\t\t\t}\n\t\t\t)\n\t\t\treturn hexArr.join('');\n\t\t},\n\n\t\tbp_openBluetoothAdapter() {\n\t\t\tconsole.log('获取血压信息')\n\t\t\tuni.openBluetoothAdapter({\n\t\t\t\tsuccess: (res) => {\n\t\t\t\t\tconsole.log('openBluetoothAdapter success', res)\n\t\t\t\t\tthis.bp_startBluetoothDevicesDiscovery()\n\t\t\t\t},\n\t\t\t\tfail: (res) => {\n\t\t\t\t\tif (res.errCode === 10001) {\n\t\t\t\t\t\tuni.onBluetoothAdapterStateChange((res) => {\n\t\t\t\t\t\t\t// console.log('onBluetoothAdapterStateChange', res)\n\t\t\t\t\t\t\tif (res.available) {\n\t\t\t\t\t\t\t\tthis.bp_startBluetoothDevicesDiscovery()\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\tbp_startBluetoothDevicesDiscovery() {\n\t\t\tif (this.bp_discoveryStarted) {\n\t\t\t\treturn\n\t\t\t}\n\t\t\tthis.bp_discoveryStarted = true\n\t\t\tuni.startBluetoothDevicesDiscovery({\n\t\t\t\tallowDuplicatesKey: true,\n\t\t\t\tsuccess: (res) => {\n\t\t\t\t\tconsole.log('startBluetoothDevicesDiscovery success', res)\n\t\t\t\t\tthis.bp_onBluetoothDeviceFound()\n\t\t\t\t},\n\t\t\t})\n\t\t},\n\t\tbp_getBluetoothAdapterState() {\n\t\t\tconsole.log('getBluetoothAdapterState')\n\t\t\tuni.getBluetoothAdapterState({\n\t\t\t\tsuccess: (res) => {\n\t\t\t\t\tconsole.log('getBluetoothAdapterState', res)\n\t\t\t\t\tif (res.discovering) {\n\t\t\t\t\t\tthis.bp_onBluetoothDeviceFound()\n\t\t\t\t\t} else if (res.available) {\n\t\t\t\t\t\tthis.bp_startBluetoothDevicesDiscovery()\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\tbp_onBluetoothDeviceFound() {\n\t\t\tuni.onBluetoothDeviceFound((res) => {\n\t\t\t\tvar devices = res.devices\n\t\t\t\tconsole.log('devices', devices)\n\t\t\t\tif (devices[0].name == 'FSRKB_BT_001') {\n\t\t\t\t\tlet e = devices[0]\n\t\t\t\t\tthis.bp_createBLEConnection(e)\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\tbp_stopBluetoothDevicesDiscovery() {\n\t\t\tuni.stopBluetoothDevicesDiscovery()\n\t\t},\n\n\t\tbp_createBLEConnection(e) {\n\t\t\t// const ds = e.currentTarget.dataset\n\t\t\tconst deviceId = e.deviceId\n\t\t\tconst name = e.name\n\t\t\tuni.createBLEConnection({\n\t\t\t\tdeviceId,\n\t\t\t\tsuccess: (res) => {\n\t\t\t\t\tthis.bp_connected = true\n\t\t\t\t\t// this.setData({\n\t\t\t\t\t// \tconnected: true,\n\t\t\t\t\t// \tname,\n\t\t\t\t\t// \tdeviceId,\n\t\t\t\t\t// })\n\t\t\t\t\tthis.bp_getBLEDeviceServices(deviceId)\n\t\t\t\t}\n\t\t\t})\n\t\t\tthis.bp_stopBluetoothDevicesDiscovery()\n\t\t},\n\t\tbp_closeBLEConnection() {\n\t\t\tuni.closeBLEConnection({\n\t\t\t\tdeviceId: this.data.deviceId\n\t\t\t})\n\t\t\tthis.setData({\n\t\t\t\tconnected: false,\n\t\t\t\tchs: [],\n\t\t\t\tcanWrite: false,\n\t\t\t})\n\t\t},\n\t\tbp_getBLEDeviceServices(deviceId) {\n\t\t\tuni.getBLEDeviceServices({\n\t\t\t\tdeviceId,\n\t\t\t\tsuccess: (res) => {\n\t\t\t\t\tfor (let i = 0; i < res.services.length; i++) {\n\t\t\t\t\t\tif (res.services[i].uuid == '0000FFF0-0000-1000-8000-00805F9B34FB') {\n\t\t\t\t\t\t\tthis.bp_getBLEDeviceCharacteristics(deviceId, res.services[i].uuid)\n\t\t\t\t\t\t\treturn\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\tbp_getBLEDeviceCharacteristics(deviceId, serviceId) {\n\t\t\tuni.getBLEDeviceCharacteristics({\n\t\t\t\tdeviceId,\n\t\t\t\tserviceId,\n\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t// console.log('getBLEDeviceCharacteristics success', res.characteristics)\n\t\t\t\t\tfor (let i = 0; i < res.characteristics.length; i++) {\n\t\t\t\t\t\tlet item = res.characteristics[i]\n\t\t\t\t\t\tif (item.uuid == '0000FFF6-0000-1000-8000-00805F9B34FB') {\n\t\t\t\t\t\t\t// this.setData({\n\t\t\t\t\t\t\t// \tbp_canWrite: true\n\t\t\t\t\t\t\t// })\n\t\t\t\t\t\t\tthis.bp_canWrite = true\n\t\t\t\t\t\t\tthis.bp_deviceId = deviceId\n\t\t\t\t\t\t\tthis.bp_serviceId = serviceId\n\t\t\t\t\t\t\tthis.bp_characteristicId = item.uuid\n\t\t\t\t\t\t\tthis.bp_writeBLECharacteristicValue()\n\n\t\t\t\t\t\t\tuni.notifyBLECharacteristicValueChange({\n\t\t\t\t\t\t\t\tdeviceId,\n\t\t\t\t\t\t\t\tserviceId,\n\t\t\t\t\t\t\t\tcharacteristicId: item.uuid,\n\t\t\t\t\t\t\t\tstate: true,\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tfail(res) {\n\t\t\t\t\tconsole.error('getBLEDeviceCharacteristics', res)\n\t\t\t\t}\n\t\t\t})\n\t\t\t// 操作之前先监听，保证第一时间获取数据\n\t\t\tuni.onBLECharacteristicValueChange((characteristic) => {\n\t\t\t\tlet vale = ab2hex(characteristic.value)\n\t\t\t\tif (vale.substr(6, 2) == 'cc') { //判断是否测量结束，结束则进入\n\t\t\t\t\tif (vale.substr(10, 2) == '00') { //判断是否错误，错误则进入\n\t\t\t\t\t\tswitch (parseInt(vale.substr(8, 2), 16)) {\n\t\t\t\t\t\t\tcase 1:\n\t\t\t\t\t\t\t\tconsole.log('传感器异常！')\n\t\t\t\t\t\t\t\tbreak\n\n\t\t\t\t\t\t\tcase 2:\n\t\t\t\t\t\t\t\tconsole.log('不足以检测心跳或血压！')\n\t\t\t\t\t\t\t\tbreak\n\n\t\t\t\t\t\t\tcase 3:\n\t\t\t\t\t\t\t\tconsole.log('异常测量结果！')\n\t\t\t\t\t\t\t\tbreak\n\n\t\t\t\t\t\t\tcase 4:\n\t\t\t\t\t\t\t\tconsole.log('袖口太松或泄漏（10秒压力小于30毫米）')\n\t\t\t\t\t\t\t\tbreak\n\n\t\t\t\t\t\t\tcase 5:\n\t\t\t\t\t\t\t\tconsole.log('气管堵塞')\n\t\t\t\t\t\t\t\tbreak\n\n\t\t\t\t\t\t\tcase 6:\n\t\t\t\t\t\t\t\tconsole.log('压力波动过大')\n\t\t\t\t\t\t\t\tbreak\n\n\t\t\t\t\t\t\tcase 7:\n\t\t\t\t\t\t\t\tconsole.log('压力超过上限')\n\t\t\t\t\t\t\t\tbreak\n\n\t\t\t\t\t\t\tcase 8:\n\t\t\t\t\t\t\t\tconsole.log('请查看标准数据是否异常')\n\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t}\n\t\t\t\t\t} else { //输出测量结果\n\t\t\t\t\t\tconsole.log('高压：', parseInt(vale.substr(8, 2), 16), '低压：', parseInt(vale.substr(10, 2), 16), '心率',\n\t\t\t\t\t\t\tparseInt(\n\t\t\t\t\t\t\t\tvale.substr(12, 2), 16))\n\t\t\t\t\t}\n\t\t\t\t} else { //输出当前压力值\n\t\t\t\t\tconsole.log('当前压力：', parseInt(vale.substr(10, 2), 16))\n\t\t\t\t// \tlet bp_value = parseInt(vale.substr(10, 2), 16)\n\t\t\t\t// \tlet timer = this.getNowTime()\n\t\t\t\t// \tthis.bp_list.push(bp_value)\n\t\t\t\t// \tthis.bp_categories.push(timer)\n\t\t\t\t// \tif (this.bp_list.length > 8) {\n\t\t\t\t// \t\tthis.bp_list.shift()\n\t\t\t\t// \t\tthis.bp_categories.shift()\n\t\t\t\t// \t}\n\t\t\t\t// \t_self.showLineA(\"charts\")\n\t\t\t\t// \t// updateData更新图表\n\t\t\t\t// \tcanvaLineA.updateData({\n\t\t\t\t// \t\tcategories: this.bp_categories,\n\t\t\t\t// \t\tseries: [{\n\t\t\t\t// \t\t\tname: '血压/血氧/血糖',\n\t\t\t\t// \t\t\tdata: _self.bp_list\n\t\t\t\t// \t\t}],\n\t\t\t\t// \t})\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\tbp_writeBLECharacteristicValue() {\n\t\t\tlet sz = [0xBE, 0xB0, 0x01, 0xc0, 0x36]\n\t\t\tlet buffer = new ArrayBuffer(5)\n\t\t\tlet dataView = new DataView(buffer)\n\n\t\t\tfor (let i = 0; i < 5; i++) {\n\t\t\t\tdataView.setUint8(i, sz[i])\n\t\t\t}\n\t\t\tconsole.log(buffer)\n\t\t\tuni.writeBLECharacteristicValue({\n\t\t\t\tdeviceId: this.bp_deviceId,\n\t\t\t\tserviceId: this.bp_serviceId,\n\t\t\t\tcharacteristicId: this.bp_characteristicId,\n\t\t\t\tvalue: buffer,\n\t\t\t})\n\t\t},\n\t\tbp_closeBluetoothAdapter() {\n\t\t\tuni.closeBluetoothAdapter()\n\t\t\tthis.bp_discoveryStarted = false\n\t\t},\n\t\t// 获取当前时间\n\t\tgetNowTime() {\n\t\t\tlet now = new Date()\n\t\t\tlet hour = now.getHours()\n\t\t\tlet minute = now.getMinutes()\n\t\t\tlet second = now.getSeconds()\n\t\t\thour = hour < 10 ? '0' + hour : hour\n\t\t\tminute = minute < 10 ? '0' + minute : minute\n\t\t\tsecond = second < 10 ? '0' + second : second\n\t\t\tlet now_time = `${hour}:${minute}:${second}`\n\t\t\treturn now_time\n\t\t},\n\t},\n}\n","import mod from \"-!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-1!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--8-oneOf-1-2!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-4!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./blood-status.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-1!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--8-oneOf-1-2!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-4!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../lhf/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./blood-status.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin"],"sourceRoot":""}